"use strict";(self.webpackChunkng_ant_admin=self.webpackChunkng_ant_admin||[]).push([[1041],{11041:(Mn,z,i)=>{i.r(z),i.d(z,{Spch00255Module:()=>Tn});var d=i(9116),S=i(22155),x=i(13951),X=i(44556),b=i(22195),M=i(17489),v=i.n(M),y=i(28746),n=i(94650),A=i(91565),_=i(36895),Z=i(99651),J=i(35568),D=i(98559),N=i(49651),E=i(50007),Q=i(79213),L=i(70629),p=i(24006),F=i(32802),O=i(5529),P=i(35656),k=i(94178),Y=i(21102),f=i(73679),h=i(36704),H=i(66616),U=i(47044),B=i(21811),T=i(35635),I=i(51971),C=i(48521),G=i(834),w=i(39597);const K=["operationTpl"],W=["nguonxeTpl"],R=["status02Tpl"],j=["endSoplnDate"];function V(a,s){if(1&a){const e=n.EpF();n.TgZ(0,"button",33),n.NdJ("click",function(){n.CHM(e);const o=n.oxw();return n.KtG(o.showVideo())}),n._UZ(1,"span",34),n._uU(2,"H\u01b0\u1edbng d\u1eabn "),n.qZA()}2&a&&n.Q6J("nzSize","large")}function $(a,s){if(1&a){const e=n.EpF();n.TgZ(0,"button",35),n.NdJ("click",function(){n.CHM(e);const o=n.oxw();return n.KtG(o.searchNguonXeClick())}),n._UZ(1,"span",14),n.qZA()}2&a&&n.Q6J("nzType","primary")}function q(a,s){if(1&a&&(n.TgZ(0,"span"),n._uU(1),n.qZA()),2&a){const e=s.nguonxe;n.xp6(1),n.AsE("",e.datacd,"-",e.datanm,"")}}function nn(a,s){if(1&a){const e=n.EpF();n.ynx(0),n.TgZ(1,"button",40),n.NdJ("click",function(){n.CHM(e);const o=n.oxw(2).id,l=n.oxw();return n.KtG(l.exportPDF(o))}),n._uU(2,"Xu\u1ea5t PDF"),n.qZA(),n.BQk()}2&a&&(n.xp6(1),n.Q6J("disabled",!0))}function tn(a,s){if(1&a){const e=n.EpF();n.TgZ(0,"button",41),n.NdJ("click",function(){n.CHM(e);const o=n.oxw(2).id,l=n.oxw();return n.KtG(l.exportPDF(o))}),n._uU(1,"Xu\u1ea5t PDF"),n.qZA()}}function en(a,s){if(1&a&&(n.TgZ(0,"span",37),n.YNc(1,nn,3,1,"ng-container",38),n.YNc(2,tn,2,0,"ng-template",null,39,n.W1O),n.qZA()),2&a){const e=n.MAs(3),t=n.oxw().status02;n.xp6(1),n.Q6J("ngIf",1==t)("ngIfElse",e)}}function an(a,s){if(1&a){const e=n.EpF();n.ynx(0),n.TgZ(1,"button",40),n.NdJ("click",function(){n.CHM(e);const o=n.oxw(2).id,l=n.oxw();return n.KtG(l.thanhtoan(o))}),n._uU(2,"Th\xe1nh To\xe1n"),n.qZA(),n.BQk()}2&a&&(n.xp6(1),n.Q6J("disabled",!0))}function on(a,s){if(1&a){const e=n.EpF();n.TgZ(0,"button",41),n.NdJ("click",function(){n.CHM(e);const o=n.oxw(2).id,l=n.oxw();return n.KtG(l.thanhtoan(o))}),n._uU(1,"Th\xe1nh To\xe1n"),n.qZA()}}function ln(a,s){if(1&a&&(n.TgZ(0,"span",37),n.YNc(1,an,3,1,"ng-container",38),n.YNc(2,on,2,0,"ng-template",null,39,n.W1O),n.qZA()),2&a){const e=n.MAs(3),t=n.oxw().status02;n.xp6(1),n.Q6J("ngIf",1==t)("ngIfElse",e)}}function sn(a,s){if(1&a&&(n.YNc(0,en,4,2,"span",36),n.YNc(1,ln,4,2,"span",36)),2&a){const e=n.oxw();n.Q6J("appAuth",e.ActionCode.Xuatpdfchuyenngoai),n.xp6(1),n.Q6J("appAuth",e.ActionCode.Thanhtoanchuyenngoai)}}function pn(a,s){1&a&&(n.ynx(0),n.TgZ(1,"span"),n._uU(2,"Ch\u01b0a thanh to\xe1n"),n.qZA(),n.BQk())}function rn(a,s){1&a&&(n.TgZ(0,"span"),n._uU(1,"\u0110\xe3 thanh to\xe1n"),n.qZA())}function cn(a,s){if(1&a&&(n.YNc(0,pn,3,0,"ng-container",38),n.YNc(1,rn,2,0,"ng-template",null,44,n.W1O)),2&a){const e=n.MAs(2),t=n.oxw().status02;n.Q6J("ngIf",0==t)("ngIfElse",e)}}function hn(a,s){if(1&a&&(n._UZ(0,"nz-alert",42),n.YNc(1,cn,3,2,"ng-template",null,43,n.W1O)),2&a){const e=n.MAs(2);n.Q6J("nzMessage",e)}}function gn(a,s){}const dn=function(){return{"padding-bottom":0}},u=function(){return{xs:8,sm:16,md:24}},un=[{path:"",component:(()=>{class a extends x.H{constructor(e,t,o,l,r,g,Cn,Sn,xn,Xn,bn){super(e,t,o,l,r,g),this.webService=e,this.router=t,this.cdf=o,this.datePipe=l,this.tabService=r,this.modalVideoyoutube=g,this.dataService=Cn,this.message=Sn,this.modalSrv=xn,this.pdfService=Xn,this.modalNguonXeService=bn,this.DisplayScreenID=S.t.spch00255,this.searchParam={},this.dateFormat=X.dateFormat,this.dataList=[],this.checkedCashArray=[],this.ActionCode=b.h,this.availableOptions=[],this.pageHeaderInfo={title:"Thanh to\xe1n chuy\u1ebfn ngo\xe0i",breadcrumb:["Home","Chuy\u1ebfn","Thanh to\xe1n chuy\u1ebfn ngo\xe0i"],desc:""},this.nguonxenm="",this.stocknx="",this.ngaybatdau=null,this.ngayketthuc=null,this.disabledStartSoplnDate=c=>{if(!c||!this.ngayketthuc)return!1;const m=new Date(this.ngayketthuc);return c.getTime()>m.getTime()},this.disabledEndSoplnDate=c=>{if(!c||!this.ngaybatdau)return!1;const m=new Date(this.ngaybatdau);return c.getTime()<=m.getTime()}}fnInit(){}destroy(){}handleStartOpenSoplnChange(e){e||this.endSoplnDate.open()}handleEndOpenSoplnChange(e){}ngOnInit(){this.searchParam.status02="0",this.initTable()}getDataList(e){this.tableLoading(!0),this.searchParam.ngaybatdau=this.formatDate(this.ngaybatdau),this.searchParam.ngayketthuc=this.formatDate(this.ngayketthuc),this.searchParam.status02=v().toNumber(this.searchParam.status02),this.dataService.postAll({pageSize:this.tableConfig.pageSize,pageNum:e?.pageIndex||this.tableConfig.pageIndex,filters:this.searchParam}).pipe((0,y.x)(()=>{this.tableLoading(!1)})).subscribe(o=>{const{list:l,total:r,pageNum:g}=o;this.dataList=[...l],0==this.dataList.length&&this.message.info("Kh\xf4ng C\xf3 d\u1eef li\u1ec7u"),this.tableConfig.total=r,this.tableConfig.pageIndex=g,this.tableLoading(!1),this.checkedCashArray=[...this.checkedCashArray],this.searchParam.status02=this.searchParam.status02+""})}reloadTable(){this.message.info("\u0110\xe3 \u0111\u01b0\u1ee3c l\xe0m m\u1edbi"),this.getDataList()}tableChangeDectction(){this.dataList=[...this.dataList],this.cdf.detectChanges()}tableLoading(e){this.tableConfig.loading=e,this.tableChangeDectction()}selectedChecked(e){this.checkedCashArray=[...e]}changePageSize(e){this.tableConfig.pageSize=e}resetForm(){this.searchParam={},this.searchParam.status02=0,this.nguonxenm="",this.getDataList()}searchNguonXeClick(){this.modalNguonXeService.show({nzTitle:"Danh S\xe1ch Ngu\u1ed3n Xe"},{showcomfirm:!1}).subscribe(e=>{if(!e||0===e.status)return;const t={...e.modalValue};this.searchParam.nguonxe=t.id,this.stocknx=t.id,this.nguonxenm=t.datacd,this.getDataList()})}fnFocusOutNguonxe(){this.searchParam.nguonxe!=this.stocknx&&(this.nguonxenm="")}exportPDF(e){this.dataService.postDetail({id:e}).pipe().subscribe(t=>{t?(this.pdfService.clearHeader(),this.pdfService.exportPDF(t.header,t.lstheader,t.lstdata,t.title,this.getDate(),"BVC k\xfd x\xe1c nh\u1eadn","BTT k\xfd x\xe1c nh\u1eadn")):this.modalSrv.error({nzTitle:"L\u1ed7i h\u1ec7 th\u1ed1ng ! vui long li\xean h\u1ec7 b\u1ed9 ph\u1eadn k\u1ef7 thu\u1eadt"})})}thanhtoan(e){this.modalSrv.confirm({nzTitle:"B\u1ea1n ch\u1eafc ch\u1eafn mu\u1ed1n th\xe1nh to\xe1n \u0111\u01a1n n\xe0y kh\xf4ng ?",nzContent:"Nh\u1ea5n OK \u0111\u1ec3 ti\u1ebfp t\u1ee5c !",nzOnOk:()=>{this.dataService.postUpdateStatus({id:e}).pipe().subscribe(t=>{1==t?(this.getDataList(),this.message.success("Thanh to\xe1n th\xe0nh c\xf4ng")):this.message.error("L\u1ed7i h\u1ec7 th\u1ed1ng. Vui l\xf2ng li\xean h\u1ec7 k\u1ef7 thu\u1eadt")})}})}initTable(){this.tableConfig={showCheckbox:!1,headers:[{title:"Ng\xe0y Xu\u1ea5t",field:"ngayxuat",width:200,pipe:"date: dd/MM/YYYY HH:mm"},{title:"S\u1ed1 HDTTXN",width:300,field:"sohdttxn"},{title:"Ngu\u1ed3n xe",width:300,field:"nguonxe",tdTemplate:this.nguonxeTpl},{title:"Tr\u1ea1ng thai",width:200,field:"status02",tdTemplate:this.status02Tpl},{title:"S\u1ed1 l\u1ea7n xu\u1ea5t PDF",width:200,field:"status01"},{title:"Ghi ch\xfa",width:150,field:"ghichu"},{title:"H\xe0nh \u0111\u1ed9ng",tdTemplate:this.operationTpl,width:300,fixed:!0,fixedDir:"right"}],total:0,loading:!0,pageSize:10,pageIndex:1}}}return a.\u0275fac=function(e){return new(e||a)(n.Y36(A.Q),n.Y36(d.F0),n.Y36(n.sBO),n.Y36(_.uU),n.Y36(Z.p),n.Y36(J.L),n.Y36(D.I),n.Y36(N.dD),n.Y36(E.Sf),n.Y36(Q.j),n.Y36(L.q))},a.\u0275cmp=n.Xpm({type:a,selectors:[["app-spch00255"]],viewQuery:function(e,t){if(1&e&&(n.Gf(K,7),n.Gf(W,7),n.Gf(R,7),n.Gf(j,5)),2&e){let o;n.iGM(o=n.CRH())&&(t.operationTpl=o.first),n.iGM(o=n.CRH())&&(t.nguonxeTpl=o.first),n.iGM(o=n.CRH())&&(t.status02Tpl=o.first),n.iGM(o=n.CRH())&&(t.endSoplnDate=o.first)}},features:[n.qOj],decls:68,vars:127,consts:[[3,"pageHeaderInfo","extraTpl"],["huongdanTpl",""],[1,"normal-table-wrap"],["nzHoverable","",1,"m-b-10",3,"nzBodyStyle"],["nz-form",""],["nz-row","",3,"nzGutter"],["nz-col","",3,"nzXXl","nzXl","nzLg","nzMd","nzSm","nzXs"],[3,"nzXXl","nzXl","nzLg","nzMd","nzSm","nzXs","nzFor"],[3,"nzXXl","nzXl","nzLg","nzMd","nzSm","nzXs"],["name","ngaybatdau",3,"nzDisabledDate","nzFormat","ngModel","nzPlaceHolder","ngModelChange","nzOnOpenChange"],["name","ngayketthuc",3,"nzDisabledDate","nzFormat","ngModel","nzPlaceHolder","ngModelChange","nzOnOpenChange"],["endSoplnDate",""],["nz-col","",1,"text-right","p-0","m-b-10",3,"nzXXl","nzXl","nzLg","nzMd","nzSm","nzXs"],["nz-button","",3,"nzType","click"],["nz-icon","","nzType","search"],["nz-button","",1,"m-l-15",3,"click"],["nz-icon","","nzType","close-circle","nzTheme","outline"],["nz-col","",1,"inputIcon",3,"nzXXl","nzXl","nzLg","nzMd","nzSm","nzXs"],["nzSearch","",3,"nzAddOnAfter"],["name","idtai","type","text","nz-input","","placeholder","",3,"ngModel","ngModelChange","blur"],["suffixIconButtonTaixe",""],["nzFor","",1,"fix-inputIcon",3,"nzNoColon"],["id","status02","name","status02",3,"ngModel","ngModelChange"],["nz-radio","","nzValue","0"],["nz-radio","","nzValue","1"],[3,"nzXXl","nzXl","nzLg","nzMd","nzSm","nzXs","nzErrorTip"],["nz-input","","name","sohdttxn","id","sohdttxn","placeholder","",3,"ngModel","ngModelChange"],[3,"tableTitle","btnTpl","reload"],[3,"checkedCashArrayFromComment","tableConfig","tableData","selectedChange","changePageSize","changePageNum"],["nguonxeTpl",""],["operationTpl",""],["status02Tpl",""],["tableBtns",""],["nz-button","","nzType","primary","nzShape","round",3,"nzSize","click"],["nz-icon","","nzType","star","nzTheme","outline"],["nz-button","",1,"bg-icon",3,"nzType","click"],["class","operate-text",4,"appAuth"],[1,"operate-text"],[4,"ngIf","ngIfElse"],["Cth",""],["nz-button","","nzType","primary","nzGhost","",3,"disabled","click"],["nz-button","","nzType","primary","nzGhost","",3,"click"],["nzType","warning",3,"nzMessage"],["Status02",""],["Dathanhtoan",""]],template:function(e,t){if(1&e&&(n._UZ(0,"app-page-header",0),n.YNc(1,V,3,1,"ng-template",null,1,n.W1O),n.TgZ(3,"div",2)(4,"nz-card",3)(5,"form",4)(6,"div",5)(7,"div",6)(8,"nz-form-item")(9,"nz-form-label",7),n._uU(10,"Ng\xe0y b\u1eaft \u0111\u1ea7u"),n.qZA(),n.TgZ(11,"nz-form-control",8)(12,"nz-date-picker",9),n.NdJ("ngModelChange",function(l){return t.ngaybatdau=l})("nzOnOpenChange",function(l){return t.handleStartOpenSoplnChange(l)}),n.qZA()()()(),n.TgZ(13,"div",6)(14,"nz-form-item")(15,"nz-form-label",7),n._uU(16,"Ng\xe0y k\u1ebft th\xfac"),n.qZA(),n.TgZ(17,"nz-form-control",8)(18,"nz-date-picker",10,11),n.NdJ("ngModelChange",function(l){return t.ngayketthuc=l})("nzOnOpenChange",function(l){return t.handleEndOpenSoplnChange(l)}),n.qZA()()()(),n.TgZ(20,"div",12)(21,"button",13),n.NdJ("click",function(){return t.getDataList()}),n._UZ(22,"i",14),n._uU(23," T\xecm ki\u1ebfm "),n.qZA(),n.TgZ(24,"button",15),n.NdJ("click",function(){return t.resetForm()}),n._UZ(25,"i",16),n._uU(26," L\xe0m m\u1edbi "),n.qZA()()(),n.TgZ(27,"div",5)(28,"div",17)(29,"nz-form-item")(30,"nz-form-label",8),n._uU(31,"Ngu\u1ed3n xe"),n.qZA(),n.TgZ(32,"nz-form-control",8)(33,"nz-input-group",18)(34,"input",19),n.NdJ("ngModelChange",function(l){return t.searchParam.nguonxe=l})("blur",function(){return t.fnFocusOutNguonxe()}),n.qZA()(),n.YNc(35,$,2,1,"ng-template",null,20,n.W1O),n.TgZ(37,"nz-form-label",21)(38,"span")(39,"u"),n._uU(40),n.qZA()()()()()(),n.TgZ(41,"div",6)(42,"nz-form-item")(43,"nz-form-label",8),n._uU(44,"Tr\u1ea1ng th\xe1i"),n.qZA(),n.TgZ(45,"nz-form-control",8)(46,"nz-radio-group",22),n.NdJ("ngModelChange",function(l){return t.searchParam.status02=l}),n.TgZ(47,"label",23),n._uU(48," Ch\u01b0a thanh to\xe1n "),n.qZA(),n.TgZ(49,"label",24),n._uU(50," \u0110\xe3 thanh to\xe1n"),n.qZA()()()()()(),n.TgZ(51,"div",5)(52,"div",6)(53,"nz-form-item")(54,"nz-form-label",7),n._uU(55,"S\u1ed1 HDTTXN"),n.qZA(),n.TgZ(56,"nz-form-control",25)(57,"input",26),n.NdJ("ngModelChange",function(l){return t.searchParam.sohdttxn=l}),n.qZA()()()()()()(),n.TgZ(58,"app-card-table-wrap",27),n.NdJ("reload",function(){return t.reloadTable()}),n.TgZ(59,"app-ant-table",28),n.NdJ("selectedChange",function(l){return t.selectedChecked(l)})("changePageSize",function(l){return t.changePageSize(l)})("changePageNum",function(l){return t.getDataList(l)}),n.qZA(),n.YNc(60,q,2,2,"ng-template",null,29,n.W1O),n.YNc(62,sn,2,2,"ng-template",null,30,n.W1O),n.YNc(64,hn,3,1,"ng-template",null,31,n.W1O),n.qZA(),n.YNc(66,gn,0,0,"ng-template",null,32,n.W1O),n.qZA()),2&e){const o=n.MAs(2),l=n.MAs(36),r=n.MAs(67);n.Q6J("pageHeaderInfo",t.pageHeaderInfo)("extraTpl",o),n.xp6(4),n.Q6J("nzBodyStyle",n.DdM(123,dn)),n.xp6(2),n.Q6J("nzGutter",n.DdM(124,u)),n.xp6(1),n.Q6J("nzXXl",8)("nzXl",8)("nzLg",8)("nzMd",12)("nzSm",24)("nzXs",24),n.xp6(2),n.Q6J("nzXXl",9)("nzXl",9)("nzLg",9)("nzMd",12)("nzSm",24)("nzXs",24),n.xp6(2),n.Q6J("nzXXl",12)("nzXl",12)("nzLg",12)("nzMd",12)("nzSm",24)("nzXs",24),n.xp6(1),n.Q6J("nzDisabledDate",t.disabledStartSoplnDate)("nzFormat",t.dateFormat)("ngModel",t.ngaybatdau)("nzPlaceHolder",t.dateFormat),n.xp6(1),n.Q6J("nzXXl",8)("nzXl",8)("nzLg",8)("nzMd",12)("nzSm",24)("nzXs",24),n.xp6(2),n.Q6J("nzXXl",9)("nzXl",9)("nzLg",9)("nzMd",12)("nzSm",24)("nzXs",24),n.xp6(2),n.Q6J("nzXXl",12)("nzXl",12)("nzLg",12)("nzMd",12)("nzSm",24)("nzXs",24),n.xp6(1),n.Q6J("nzDisabledDate",t.disabledEndSoplnDate)("nzFormat",t.dateFormat)("ngModel",t.ngayketthuc)("nzPlaceHolder",t.dateFormat),n.xp6(2),n.Q6J("nzXXl",8)("nzXl",8)("nzLg",8)("nzMd",12)("nzSm",24)("nzXs",24),n.xp6(1),n.Q6J("nzType","primary"),n.xp6(6),n.Q6J("nzGutter",n.DdM(125,u)),n.xp6(1),n.Q6J("nzXXl",8)("nzXl",8)("nzLg",8)("nzMd",12)("nzSm",24)("nzXs",24),n.xp6(2),n.Q6J("nzXXl",9)("nzXl",9)("nzLg",9)("nzMd",12)("nzSm",24)("nzXs",24),n.xp6(2),n.Q6J("nzXXl",10)("nzXl",10)("nzLg",10)("nzMd",10)("nzSm",20)("nzXs",24),n.xp6(1),n.Q6J("nzAddOnAfter",l),n.xp6(1),n.Q6J("ngModel",t.searchParam.nguonxe),n.xp6(3),n.Q6J("nzNoColon",!0),n.xp6(3),n.Oqu(t.nguonxenm),n.xp6(1),n.Q6J("nzXXl",8)("nzXl",8)("nzLg",8)("nzMd",12)("nzSm",24)("nzXs",24),n.xp6(2),n.Q6J("nzXXl",9)("nzXl",9)("nzLg",9)("nzMd",12)("nzSm",24)("nzXs",24),n.xp6(2),n.Q6J("nzXXl",15)("nzXl",15)("nzLg",15)("nzMd",15)("nzSm",24)("nzXs",24),n.xp6(1),n.Q6J("ngModel",t.searchParam.status02),n.xp6(5),n.Q6J("nzGutter",n.DdM(126,u)),n.xp6(1),n.Q6J("nzXXl",8)("nzXl",8)("nzLg",8)("nzMd",12)("nzSm",24)("nzXs",24),n.xp6(2),n.Q6J("nzXXl",9)("nzXl",9)("nzLg",9)("nzMd",12)("nzSm",24)("nzXs",24),n.xp6(2),n.Q6J("nzXXl",12)("nzXl",12)("nzLg",12)("nzMd",12)("nzSm",24)("nzXs",24)("nzErrorTip",""),n.xp6(1),n.Q6J("ngModel",t.searchParam.sohdttxn),n.xp6(1),n.Q6J("tableTitle","K\u1ebft qu\u1ea3 t\xecm ki\u1ebfm")("btnTpl",r),n.xp6(1),n.Q6J("checkedCashArrayFromComment",t.checkedCashArray)("tableConfig",t.tableConfig)("tableData",t.dataList)}},dependencies:[_.O5,p._Y,p.Fj,p.JJ,p.JL,p.On,p.F,F.q,O.q,P.x,k.p,Y.Ls,f.t3,f.SK,h.Lr,h.Nx,h.iK,h.Fd,H.ix,U.w,B.dQ,T.Zp,T.gB,I.bd,C.Of,C.Dg,G.uw,w.r]}),a})(),data:{title:"Thanh to\xe1n xe ngo\xe0i",key:"spch00255"}}];let mn=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=n.oAB({type:a}),a.\u0275inj=n.cJS({imports:[d.Bz.forChild(un),d.Bz]}),a})();var zn=i(5316),_n=i(79962),fn=i(30804);let Tn=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=n.oAB({type:a}),a.\u0275inj=n.cJS({imports:[zn.m,mn,_n.a,fn.A]}),a})()}}]);