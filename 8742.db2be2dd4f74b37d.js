"use strict";(self.webpackChunkng_ant_admin=self.webpackChunkng_ant_admin||[]).push([[8742],{78898:(A,u,i)=>{i.d(u,{C:()=>_});var l=i(44556),m=i(94650),f=i(54246);let _=(()=>{class d{constructor(t){this.http=t}searchParams(t){return this.http.post(l.Spin00901Ant100Search,t,{needSuccessInfo:!1})}Detail(t){return this.http.post(l.Spin00901Ant100Detail,t,{needSuccessInfo:!1})}create(t){return this.http.post(l.Spin00901Ant100Add,t,{needSuccessInfo:!1})}update(t){return this.http.post(l.Spin00901Ant100Update,t,{needSuccessInfo:!1})}delete(t){return this.http.post(l.Spin00901Ant100Del,t,{needSuccessInfo:!1})}deleteAll(t){return this.http.post(l.Spin00901Ant100Alldel,t,{needSuccessInfo:!1})}}return d.\u0275fac=function(t){return new(t||d)(m.LFG(f.q))},d.\u0275prov=m.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})()},67859:(A,u,i)=>{i.d(u,{S:()=>y});var l=i(94650),b=i(91565);let T=(()=>{class a{constructor(s){this.webService=s}mobileRule(s){return s?function g(a){return/^(0|\+?84|17951)?(13[0-9]|15[0-9]|17[0678]|18[0-9]|14[57])[0-9]{8}$/.test(a)}(s)?null:{message:"Vui l\xf2ng nh\u1eadp s\u1ed1 \u0111i\u1ec7n tho\u1ea1i ch\xednh x\xe1c"}:null}telPhoneRule(s){return s?function t(a){return/^(0\d{2,3}-?)?\d{7,8}$/.test(a)}(s)?null:{message:"Vui l\xf2ng nh\u1eadp zalo ch\xednh x\xe1c"}:null}emailRule(s){return s?function x(a){return/\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*/.test(a)}(s)?null:{message:"Vui l\xf2ng nh\u1eadp emali ch\xednh x\xe1c"}:null}passwordRule(s){return s?function z(a){return/^[^\s]{6,20}$/.test(a)&&!/^\d+$/.test(a)}(s)?null:{message:"M\u1eadt kh\u1ea9u bao g\u1ed3m 6 \u0111\u1ebfn 20 ch\u1eef c\xe1i vi\u1ebft hoa v\xe0 vi\u1ebft th\u01b0\u1eddng, s\u1ed1 ho\u1eb7c c\xe1c k\xfd t\u1ef1 kh\xe1c"}:null}}return a.\u0275fac=function(s){return new(s||a)(l.LFG(b.Q))},a.\u0275prov=l.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),y=(()=>{class a{constructor(s){this.vrService=s}emailValidator(){return this.commonUtil(this.vrService.emailRule)}mobileValidator(){return this.commonUtil(this.vrService.telPhoneRule)}passwordValidator(){return this.commonUtil(this.vrService.passwordRule)}zaloValidator(){return this.commonUtil(this.vrService.telPhoneRule)}commonUtil(s){return I=>s(I.value)}}return a.\u0275fac=function(s){return new(s||a)(l.LFG(T))},a.\u0275prov=l.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})()},36359:(A,u,i)=>{i.r(u),i.d(u,{Spin00901Module:()=>tt});var l=i(9116),m=i(22155),f=i(13951),_=i(44556),d=i(22195),g=i(28746),t=i(94650),x=i(91565),z=i(36895),N=i(99651),b=i(35568),T=i(49651),y=i(50007),a=i(78898),h=i(39583),s=i(24006),I=i(32802),L=i(5529),D=i(35656),Z=i(94178),J=i(21102),M=i(73679),S=i(36704),w=i(66616),F=i(47044),P=i(21811),Q=i(35635),U=i(51971);const k=["operationTpl"];function O(e,p){if(1&e){const n=t.EpF();t.TgZ(0,"button",16),t.NdJ("click",function(){t.CHM(n);const r=t.oxw();return t.KtG(r.showVideo())}),t._UZ(1,"span",17),t._uU(2),t.qZA()}if(2&e){const n=t.oxw();t.Q6J("nzSize","large"),t.xp6(2),t.hij("",n.formItemNm[4]," ")}}function X(e,p){if(1&e){const n=t.EpF();t.TgZ(0,"button",23),t.NdJ("click",function(){t.CHM(n);const r=t.oxw(3);return t.KtG(r.add())}),t._UZ(1,"i",24),t._uU(2),t.qZA()}if(2&e){const n=t.oxw(3);t.xp6(2),t.hij(" ",n.formItemNm[9]," ")}}function Y(e,p){if(1&e){const n=t.EpF();t.TgZ(0,"button",25),t.NdJ("click",function(){t.CHM(n);const r=t.oxw(3);return t.KtG(r.allDel())}),t._UZ(1,"i",26),t._uU(2),t.qZA()}if(2&e){const n=t.oxw(3);t.xp6(2),t.hij(" ",n.formItemNm[10]," ")}}function E(e,p){if(1&e&&(t.YNc(0,X,3,1,"button",21),t.YNc(1,Y,3,1,"button",22)),2&e){const n=t.oxw(2);t.Q6J("appAuth",n.ActionCode.QuanlykhoAdd),t.xp6(1),t.Q6J("appAuth",n.ActionCode.QuanlykhoallDel)}}function R(e,p){if(1&e){const n=t.EpF();t.ynx(0),t.TgZ(1,"app-card-table-wrap",18),t.NdJ("reload",function(){t.CHM(n);const r=t.oxw();return t.KtG(r.reloadTable())}),t.TgZ(2,"app-ant-table",19),t.NdJ("selectedChange",function(r){t.CHM(n);const c=t.oxw();return t.KtG(c.selectedChecked(r))})("changePageSize",function(r){t.CHM(n);const c=t.oxw();return t.KtG(c.changePageSize(r))})("changePageNum",function(r){t.CHM(n);const c=t.oxw();return t.KtG(c.getDataList(r))}),t.qZA()(),t.YNc(3,E,2,2,"ng-template",null,20,t.W1O),t.BQk()}if(2&e){const n=t.MAs(4),o=t.oxw();t.xp6(1),t.Q6J("tableTitle",o.formItemNm[8])("btnTpl",n),t.xp6(1),t.Q6J("checkedCashArrayFromComment",o.checkedCashArray)("tableConfig",o.tableConfig)("tableData",o.dataList)}}function G(e,p){if(1&e){const n=t.EpF();t.TgZ(0,"span",28)(1,"button",29),t.NdJ("click",function(){t.CHM(n);const r=t.oxw().id,c=t.oxw();return t.KtG(c.edit(r))}),t._uU(2),t.qZA()()}if(2&e){const n=t.oxw(2);t.xp6(2),t.Oqu(n.formItemNm[16])}}function H(e,p){if(1&e){const n=t.EpF();t.TgZ(0,"span",28)(1,"button",29),t.NdJ("click",function(){t.CHM(n);const r=t.oxw().id,c=t.oxw();return t.KtG(c.del(r))}),t._uU(2),t.qZA()()}if(2&e){const n=t.oxw(2);t.xp6(2),t.Oqu(n.formItemNm[15])}}function K(e,p){if(1&e&&(t.YNc(0,G,3,1,"span",27),t.YNc(1,H,3,1,"span",27)),2&e){const n=t.oxw();t.Q6J("appAuth",n.ActionCode.QuanlykhoUpdate),t.xp6(1),t.Q6J("appAuth",n.ActionCode.QuanlykhoDel)}}const B=function(){return{"padding-bottom":0}},V=function(){return{xs:8,sm:16,md:24}},$=[{path:"",component:(()=>{class e extends f.H{constructor(n,o,r,c,v,C,nt,et,it,ot){super(n,o,r,c,v,C),this.webService=n,this.router=o,this.cdf=r,this.datePipe=c,this.tabService=v,this.modalVideoyoutube=C,this.message=nt,this.modalSrv=et,this.dataService=it,this.spin00901subSevice=ot,this.pageHeaderInfo={title:"",breadcrumb:["","",""]},this.searchParam={},this.dateFormat=_.dateFormat,this.dataList=[],this.checkedCashArray=[],this.ActionCode=d.h,this.DisplayScreenID=m.t.spin00901}fnInit(){this.pageHeaderInfo={title:this.formItemNm[3],breadcrumb:[this.formItemNm[1],this.formItemNm[2],this.formItemNm[3]],desc:""},this.initTable()}destroy(){}add(){this.spin00901subSevice.show({nzTitle:"Th\xeam m\u01a1i"}).subscribe(n=>{!n||0===n.status||this.addEditData(n.modalValue,"create")})}edit(n){this.dataService.Detail({id:n}).pipe().subscribe(o=>{this.spin00901subSevice.show({nzTitle:"C\u1eadp nh\u1eadt"},o).subscribe(({modalValue:r,status:c})=>{0!==c&&(r.id=n,this.addEditData(r,"update"))})})}addEditData(n,o){this.dataService[o](n).pipe((0,g.x)(()=>{this.tableLoading(!1)})).subscribe(()=>{this.getDataList()})}del(n){this.modalSrv.confirm({nzTitle:"B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n x\xf3a kh\xf4ng !",nzContent:"Sau khi x\xf3a d\u1eed li\u1ec7u kh\xf4ng th\u1ec3 kh\xf4i ph\u1ee5c.",nzOnOk:()=>{this.dataService.delete({id:n}).pipe().subscribe(o=>{1==o.deletedCount?(1===this.dataList.length&&this.tableConfig.pageIndex--,this.getDataList(),this.resetForm()):this.message.info("Th\u1ef1c hi\u1ec7n kh\xf4ng th\xe0nh c\xf4ng !")})}})}allDel(){this.dataList.length>0?this.modalSrv.confirm({nzTitle:"B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n x\xf3a kh\xf4ng !",nzContent:"Sau khi x\xf3a d\u1eed li\u1ec7u kh\xf4ng th\u1ec3 kh\xf4i ph\u1ee5c.",nzOnOk:()=>{this.dataService.deleteAll({id:this.fngetListId()}).pipe().subscribe(n=>{this.getDataList(),this.resetForm()})}}):this.modalSrv.info({nzTitle:"Kh\xf4ng c\xf3 d\u01b0 li\u1ec7u"})}fngetListId(){let n=[];for(let o of this.dataList)n.push(o.id);return n}getDataList(n){this.searchParam.rcdkbn="0001",""==this.searchParam.datacd&&this.resetForm(),this.tableLoading(!0),this.dataService.searchParams({pageSize:this.tableConfig.pageSize,pageNum:n?.pageIndex||this.tableConfig.pageIndex,filters:this.searchParam}).pipe((0,g.x)(()=>{this.tableLoading(!1)})).subscribe(r=>{const{list:c,total:v,pageNum:C}=r;this.dataList=[...c],this.tableConfig.total=v,this.tableConfig.pageIndex=C,this.tableLoading(!1)})}resetForm(){this.searchParam={},this.searchParam.rcdkbn="0001"}reloadTable(){this.message.info("\u0110\xe3 \u0111\u01b0\u1ee3c l\xe0m m\u1edbi"),this.getDataList()}tableChangeDectction(){this.dataList=[...this.dataList],this.cdf.detectChanges()}tableLoading(n){this.tableConfig.loading=n,this.tableChangeDectction()}selectedChecked(n){this.checkedCashArray=[...n]}changePageSize(n){this.tableConfig.pageSize=n}initTable(){this.tableConfig={showCheckbox:!1,headers:[{title:this.formItemNm[11],field:"datacd",width:180},{title:this.formItemNm[12],width:180,field:"datanm"},{title:this.formItemNm[13],width:120,field:"status01"},{title:this.formItemNm[14],tdTemplate:this.operationTpl,width:160,fixed:!0,fixedDir:"right"}],total:0,loading:!0,pageSize:10,pageIndex:1}}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(x.Q),t.Y36(l.F0),t.Y36(t.sBO),t.Y36(z.uU),t.Y36(N.p),t.Y36(b.L),t.Y36(T.dD),t.Y36(y.Sf),t.Y36(a.C),t.Y36(h.N))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-spin00901"]],viewQuery:function(n,o){if(1&n&&t.Gf(k,7),2&n){let r;t.iGM(r=t.CRH())&&(o.operationTpl=r.first)}},features:[t.qOj],decls:24,vars:30,consts:[[3,"pageHeaderInfo","extraTpl"],["huongdanTpl",""],[1,"normal-table-wrap"],["nzHoverable","",1,"m-b-10",3,"nzBodyStyle"],["nz-form",""],["nz-row","",3,"nzGutter"],["nz-col","",3,"nzXXl","nzXl","nzLg","nzMd","nzSm","nzXs"],[3,"nzFor"],["nz-input","","name","datacd","placeholder","search m\xe3 kho",3,"ngModel","ngModelChange"],["nz-col","",1,"text-right","p-0","m-b-10",3,"nzXXl","nzXl","nzLg","nzMd","nzSm","nzXs"],["nz-button","",3,"nzType","click"],["nz-icon","","nzType","search"],["nz-button","",1,"m-l-15",3,"click"],["nz-icon","","nzType","close-circle","nzTheme","outline"],[4,"ngIf"],["operationTpl",""],["nz-button","","nzType","primary","nzShape","round",3,"nzSize","click"],["nz-icon","","nzType","star","nzTheme","outline"],[3,"tableTitle","btnTpl","reload"],[3,"checkedCashArrayFromComment","tableConfig","tableData","selectedChange","changePageSize","changePageNum"],["tableBtns",""],["nz-button","","nzType","primary","class","m-r-8",3,"click",4,"appAuth"],["nz-button","","nzType","default",3,"click",4,"appAuth"],["nz-button","","nzType","primary",1,"m-r-8",3,"click"],["nz-icon","","nzType","plus"],["nz-button","","nzType","default",3,"click"],["nz-icon","","nzType","delete"],["class","operate-text",4,"appAuth"],[1,"operate-text"],["nz-button","","nzType","primary","nzGhost","",3,"click"]],template:function(n,o){if(1&n&&(t._UZ(0,"app-page-header",0),t.YNc(1,O,3,2,"ng-template",null,1,t.W1O),t.TgZ(3,"div",2)(4,"nz-card",3)(5,"form",4)(6,"div",5)(7,"div",6)(8,"nz-form-item")(9,"nz-form-label",7),t._uU(10),t.qZA(),t.TgZ(11,"nz-form-control")(12,"input",8),t.NdJ("ngModelChange",function(c){return o.searchParam.datacd=c}),t.qZA()()()(),t._UZ(13,"div",6),t.TgZ(14,"div",9)(15,"button",10),t.NdJ("click",function(){return o.getDataList()}),t._UZ(16,"i",11),t._uU(17),t.qZA(),t.TgZ(18,"button",12),t.NdJ("click",function(){return o.resetForm()}),t._UZ(19,"i",13),t._uU(20),t.qZA()()()()(),t.YNc(21,R,5,5,"ng-container",14),t.YNc(22,K,2,2,"ng-template",null,15,t.W1O),t.qZA()),2&n){const r=t.MAs(2);t.Q6J("pageHeaderInfo",o.pageHeaderInfo)("extraTpl",r),t.xp6(4),t.Q6J("nzBodyStyle",t.DdM(28,B)),t.xp6(2),t.Q6J("nzGutter",t.DdM(29,V)),t.xp6(1),t.Q6J("nzXXl",8)("nzXl",8)("nzLg",8)("nzMd",12)("nzSm",24)("nzXs",24),t.xp6(3),t.Oqu(o.formItemNm[5]),t.xp6(2),t.Q6J("ngModel",o.searchParam.datacd),t.xp6(1),t.Q6J("nzXXl",8)("nzXl",8)("nzLg",8)("nzMd",12)("nzSm",24)("nzXs",24),t.xp6(1),t.Q6J("nzXXl",8)("nzXl",8)("nzLg",8)("nzMd",12)("nzSm",24)("nzXs",24),t.xp6(1),t.Q6J("nzType","primary"),t.xp6(2),t.Oqu(o.formItemNm[6]),t.xp6(3),t.Oqu(o.formItemNm[7]),t.xp6(1),t.Q6J("ngIf",o.tableConfig)}},dependencies:[z.O5,s._Y,s.Fj,s.JJ,s.JL,s.On,s.F,I.q,L.q,D.x,Z.p,J.Ls,M.t3,M.SK,S.Lr,S.Nx,S.iK,S.Fd,w.ix,F.w,P.dQ,Q.Zp,U.bd]}),e})(),data:{title:"Qu\u1ea3n l\xfd kho",key:"spin00901"}}];let j=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[l.Bz.forChild($),l.Bz]}),e})();var W=i(5316),q=i(68291);let tt=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[W.m,j,q.Q]}),e})()}}]);