"use strict";(self.webpackChunkng_ant_admin=self.webpackChunkng_ant_admin||[]).push([[8663],{50308:(x,_,a)=>{a.d(_,{v:()=>f});var c=a(44556),d=a(94650),t=a(54246);let f=(()=>{class r{constructor(i){this.http=i}requestInit(i){return this.http.post(c.CommonAnt100RequestInt,i,{needSuccessInfo:!1})}listtaichinh(i){return this.http.post(c.CommonAnt100Listtaichinh,i,{needSuccessInfo:!1})}thongketaichinhnam(i){return this.http.post(c.CommonAnt100Thongketaichinhnam,i,{needSuccessInfo:!1})}tongchuyenhangtrongnam(i){return this.http.post(c.CommonAnt100Tongchuyenhangtrongnam,i,{needSuccessInfo:!1})}tongnoAll(i){return this.http.post(c.CommonAnt100Tongnoall,i,{needSuccessInfo:!1})}tongnoUser(i){return this.http.post(c.CommonAnt100Tongnouser,i,{needSuccessInfo:!1})}listtopdoanhthu(i){return this.http.post(c.CommonAnt100Listtopdoanhthu,i,{needSuccessInfo:!1})}listtopchiphi(i){return this.http.post(c.CommonAnt100Listtopchiphi,i,{needSuccessInfo:!1})}listtoptongcuoctungxe(i){return this.http.post(c.CommonAnt100Listtoptongcuoctungxe,i,{needSuccessInfo:!1})}Tinhtongnoxengoai(){return this.http.post(c.CommonAnt100Tongnoxengoai,{needSuccessInfo:!1})}getODS(){return this.http.post(c.CommonAnt100GetODS,{needSuccessInfo:!1})}getODT(){return this.http.post(c.CommonAnt100GetODT,{needSuccessInfo:!1})}getODC(){return this.http.post(c.CommonAnt100GetODC,{needSuccessInfo:!1})}getHDTTXN(){return this.http.post(c.CommonAnt100GetHDTTXN,{needSuccessInfo:!1})}getListSoID(i){return this.http.post(c.CommonAnt100GetListSoID,i,{needSuccessInfo:!1})}getListDichvuxecau(){return this.http.post(c.CommonAnt100GetListDichvuXeCau,{needSuccessInfo:!1})}getListDichvubocxep(){return this.http.post(c.CommonAnt100GetListDichvuBocXep,{needSuccessInfo:!1})}}return r.\u0275fac=function(i){return new(i||r)(d.LFG(t.q))},r.\u0275prov=d.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})()},78898:(x,_,a)=>{a.d(_,{C:()=>f});var c=a(44556),d=a(94650),t=a(54246);let f=(()=>{class r{constructor(i){this.http=i}searchParams(i){return this.http.post(c.Spin00901Ant100Search,i,{needSuccessInfo:!1})}Detail(i){return this.http.post(c.Spin00901Ant100Detail,i,{needSuccessInfo:!1})}create(i){return this.http.post(c.Spin00901Ant100Add,i,{needSuccessInfo:!1})}update(i){return this.http.post(c.Spin00901Ant100Update,i,{needSuccessInfo:!1})}delete(i){return this.http.post(c.Spin00901Ant100Del,i,{needSuccessInfo:!1})}deleteAll(i){return this.http.post(c.Spin00901Ant100Alldel,i,{needSuccessInfo:!1})}}return r.\u0275fac=function(i){return new(i||r)(d.LFG(t.q))},r.\u0275prov=d.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})()},72333:(x,_,a)=>{a.d(_,{J:()=>ot});var c=a(44556),d=a(28746),t=a(94650),f=a(24006),r=a(67859),S=a(91565),i=a(85216),y=a(49651),N=a(50007),M=a(50308),E=a(36895),P=a(5529),G=a(94178),w=a(66616),Y=a(47044),H=a(39597);const U=["operationTpl"],R=["tenkhachhangTpl"],W=["availableFlag"],Z=["tiencuocTpl"],k=["htttTpl"];function F(o,h){if(1&o){const n=t.EpF();t.ynx(0),t.TgZ(1,"a",9),t.NdJ("click",function(){t.CHM(n);const e=t.oxw(),l=e.soID,g=e.iduser,m=e.tiencuoc,u=e.tenhang,p=e.soluong,T=e.trongluong,C=e.khoiluong,b=e.donvitinh,v=e.diadiembochang,I=e.hinhthucthanhtoan,D=e.tennguoinhan,A=e.sdtnguoinhan,L=e.diachinguoinhan,O=e.ghichu,z=t.oxw();return t.KtG(z.getItem(l,g,m,u,p,T,C,b,v,I,D,A,L,O))}),t._uU(2),t.qZA(),t.BQk()}if(2&o){const n=t.oxw().soID;t.xp6(1),t.Q6J("disabled",!0),t.xp6(1),t.Oqu(n)}}function J(o,h){if(1&o){const n=t.EpF();t.TgZ(0,"a",10),t.NdJ("click",function(){t.CHM(n);const e=t.oxw(),l=e.soID,g=e.iduser,m=e.tiencuoc,u=e.tenhang,p=e.soluong,T=e.trongluong,C=e.khoiluong,b=e.donvitinh,v=e.diadiembochang,I=e.hinhthucthanhtoan,D=e.tennguoinhan,A=e.sdtnguoinhan,L=e.diachinguoinhan,O=e.ghichu,z=t.oxw();return t.KtG(z.getItem(l,g,m,u,p,T,C,b,v,I,D,A,L,O))}),t._uU(1),t.qZA()}if(2&o){const n=t.oxw().soID;t.xp6(1),t.Oqu(n)}}function Q(o,h){if(1&o&&(t.YNc(0,F,3,2,"ng-container",7),t.YNc(1,J,2,1,"ng-template",null,8,t.W1O)),2&o){const n=h.disable,s=t.MAs(2);t.Q6J("ngIf",n&&1==n)("ngIfElse",s)}}function B(o,h){1&o&&t._UZ(0,"nz-alert",11),2&o&&t.s9C("nzMessage",h.iduser.name)}function K(o,h){1&o&&(t.ynx(0),t._UZ(1,"nz-alert",13),t.BQk())}function j(o,h){1&o&&(t.ynx(0),t._UZ(1,"nz-alert",15),t.BQk())}function X(o,h){1&o&&t._UZ(0,"nz-alert",16)}function V(o,h){if(1&o&&(t.YNc(0,j,2,0,"ng-container",7),t.YNc(1,X,1,0,"ng-template",null,14,t.W1O)),2&o){const n=t.MAs(2),s=t.oxw().status01;t.Q6J("ngIf",0==s)("ngIfElse",n)}}function $(o,h){if(1&o&&(t.YNc(0,K,2,0,"ng-container",7),t.YNc(1,V,3,2,"ng-template",null,12,t.W1O)),2&o){const n=h.status02,s=t.MAs(2);t.Q6J("ngIf",0==n)("ngIfElse",s)}}function q(o,h){if(1&o&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"currency"),t.qZA()),2&o){const n=h.tiencuoc;t.xp6(1),t.Oqu(t.Dn7(2,1,1e3*n,"VND",""))}}function tt(o,h){if(1&o&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&o){const n=h.hinhthucthanhtoan,s=t.oxw();t.xp6(1),t.Oqu(s.mergeHttt(n))}}let nt=(()=>{class o{constructor(n,s,e,l,g,m,u,p){this.fb=n,this.validatorsService=s,this.webService=e,this.vf=l,this.message=g,this.cdr=m,this.modalRef=u,this.commonService=p,this.dataList=[],this.dataResponse={},this.messageErrors=[],this.searchParam={},this.constHttt=c.Hinhthucthanhtoan}ngOnInit(){let n=this.obj(this.params);n.idchuyen&&"NULL"==n.idchuyen&&(this.searchParam.idchuyen=null),n.status02&&"KHONG"==n.status02&&(this.searchParam.status02=0),this.initTable(),n.listsoId&&n.listsoId.length>0&&(this.lstsoID=n.listsoId)}mergeHttt(n){let s=n+"",e="";for(let l of this.constHttt)l.value===s&&(e=l.lable);return e}obj(n){let s=JSON.stringify(n);return JSON.parse(s)}getItem(n,s,e,l,g,m,u,p,T,C,b,v,I,D){this.dataResponse={soID:n,iduser:s,tiencuoc:e,tenhang:l,soluong:g,trongluong:m,khoiluong:u,donvitinh:p,diadiembochang:T,hinhthucthanhtoan:C,tennguoinhan:b,sdtnguoinhan:v,diachinguoinhan:I,ghichu:D},this.modalRef.destroy({status:1,modalValue:this.dataResponse})}getDataList(n){this.tableConfig.loading=!0,this.commonService.getListSoID({pageSize:this.tableConfig.pageSize,pageNum:n?.pageIndex||this.tableConfig.pageIndex,filters:this.searchParam}).pipe((0,d.x)(()=>{this.tableLoading(!1)})).subscribe(e=>{const{list:l,total:g,pageNum:m}=e;if(this.dataList=[...l],this.lstsoID.length>0)for(let u=0;u<this.dataList.length;u++)this.dataList[u].disable=!!this.lstsoID.includes(this.dataList[u].soID);console.log(this.dataList),this.tableConfig.total=g,this.tableConfig.pageIndex=m,this.tableLoading(!1)})}tableChangeDectction(){this.dataList=[...this.dataList],this.cdr.detectChanges()}tableLoading(n){this.tableConfig.loading=n,this.tableChangeDectction()}changePageSize(n){this.tableConfig.pageSize=n}resetForm(){this.searchParam={},this.getDataList()}reloadTable(){this.message.info("L\xe0m m\u1edbi th\xe0nh c\xf4ng"),this.getDataList()}initTable(){this.tableConfig={showCheckbox:!1,headers:[{title:"S\u1ed1 ID",field:"soID",width:200,tdTemplate:this.operationTpl},{title:"Tr\u1ea1ng th\xe1i",width:150,field:"trangthai",tdTemplate:this.availableFlag},{title:"Ng\u01b0\u1eddi g\u1eedi",width:200,field:"name",tdTemplate:this.tenkhachhangTpl},{title:"Ti\u1ec1n c\u01b0\u1edbc",width:180,field:"tiencuoc",tdTemplate:this.tiencuocTpl},{title:"Ng\xe0y nh\u1eadp",width:120,field:"ngaynhap"},{title:"Kho",width:150,field:"makho"},{title:"\u0110\u1ecba \u0111i\u1ec3m b\xf3c h\xe0ng",width:150,field:"diadiembochang"},{title:"T\xean h\xe0ng",width:150,field:"tenhang"},{title:"S\u1ed1 l\u01b0\u1ee3ng",width:80,field:"soluong"},{title:"Tr\u1ecdng l\u01b0\u1ee3ng",width:80,field:"trongluong"},{title:"Kh\u1ed1i l\u01b0\u1ee3ng",width:80,field:"khoiluong"},{title:"\u0110\u01a1n v\u1ecb t\xednh",width:150,field:"donvitinh"},{title:"Hinh th\u1ee9c thanh to\xe1n",width:150,field:"hinhthucthanhtoan",tdTemplate:this.htttTpl},{title:"T\xean ng\u01b0\u1eddi nh\u1eadn",width:150,field:"tennguoinhan"},{title:"S\u0110T ng\u01b0\u1eddi nh\u1eadn",width:150,field:"sdtnguoinhan"},{title:"\u0110\u1ecba ch\u1ec9 ng\u01b0\u1eddi nh\u1eadn",width:150,field:"diachinguoinhan"},{title:"Ghi ch\xfa",width:150,field:"ghichu"}],total:0,loading:!0,pageSize:10,pageIndex:1}}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(f.qu),t.Y36(r.S),t.Y36(S.Q),t.Y36(i.m),t.Y36(y.dD),t.Y36(t.sBO),t.Y36(N.Lf),t.Y36(M.v))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-subcommonsoid"]],viewQuery:function(n,s){if(1&n&&(t.Gf(U,7),t.Gf(R,7),t.Gf(W,7),t.Gf(Z,7),t.Gf(k,7)),2&n){let e;t.iGM(e=t.CRH())&&(s.operationTpl=e.first),t.iGM(e=t.CRH())&&(s.tenkhachhangTpl=e.first),t.iGM(e=t.CRH())&&(s.availableFlag=e.first),t.iGM(e=t.CRH())&&(s.tiencuocTpl=e.first),t.iGM(e=t.CRH())&&(s.htttTpl=e.first)}},decls:12,vars:3,consts:[[3,"tableTitle","reload"],[3,"tableConfig","tableData","changePageSize","changePageNum"],["operationTpl",""],["tenkhachhangTpl",""],["availableFlag",""],["tiencuocTpl",""],["htttTpl",""],[4,"ngIf","ngIfElse"],["notdisableLink",""],["nz-button","","nzType","link",3,"disabled","click"],["nz-button","","nzType","link",3,"click"],["nzType","success",3,"nzMessage"],["statusTpl",""],["nzType","info","nzMessage","Trong kho"],["vtTpl",""],["nzType","warning","nzMessage","Ch\u1edd b\u1ed1c h\xe0ng"],["nzType","success","nzMessage","V\u1eadn chuy\u1ec3n"]],template:function(n,s){1&n&&(t.TgZ(0,"app-card-table-wrap",0),t.NdJ("reload",function(){return s.reloadTable()}),t.TgZ(1,"app-ant-table",1),t.NdJ("changePageSize",function(l){return s.changePageSize(l)})("changePageNum",function(l){return s.getDataList(l)}),t.qZA(),t.YNc(2,Q,3,2,"ng-template",null,2,t.W1O),t.YNc(4,B,1,1,"ng-template",null,3,t.W1O),t.YNc(6,$,3,2,"ng-template",null,4,t.W1O),t.YNc(8,q,3,5,"ng-template",null,5,t.W1O),t.YNc(10,tt,2,1,"ng-template",null,6,t.W1O),t.qZA()),2&n&&(t.Q6J("tableTitle","Danh S\xe1ch S\u1ed1 ID"),t.xp6(1),t.Q6J("tableConfig",s.tableConfig)("tableData",s.dataList))},dependencies:[E.O5,P.q,G.p,w.ix,Y.w,H.r,E.H9]}),o})();var et=a(69174);let ot=(()=>{class o{constructor(n){this.modalWrapService=n}getContentComponent(){return nt}show(n={},s){return this.modalWrapService.show(this.getContentComponent(),n,s)}}return o.\u0275fac=function(n){return new(n||o)(t.LFG(et.U))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})()}}]);