"use strict";(self.webpackChunkng_ant_admin=self.webpackChunkng_ant_admin||[]).push([[9642],{22155:(X,b,o)=>{o.d(b,{t:()=>d});var d=(()=>{return(t=d||(d={})).Demo="/default/dashboard/demo",t.Analysis="/default/dashboard/analysis",t.Monitor="/default/dashboard/monitor",t.Workbench="/default/dashboard/workbench",t.spxe00101="xe/spxe00101",t.spch00101="chuyen/spch00101",t.spch00201="chuyen/spch00201",t.spch00251="chuyen/spch00251",t.spch00252="chuyen/spch00252",t.spch00253="chuyen/spch00253",t.spch00254="chuyen/spch00254",t.spch00255="chuyen/spch00255",t.spkh00101="khachhang/spkh00101",t.spkh00201="khachhang/spkh00201",t.mbtx00101="mobile/mbtx00101",t.mbtx00201="mobile/mbtx00201",t.mbtx00301="mobile/mbtx00301",d;var t})()},91565:(X,b,o)=>{o.d(b,{Q:()=>T});var d=o(15861),t=o(80529),C=o(44556),g=o(94650),E=o(54246);let T=(()=>{class z{constructor(c,a){this.http=c,this.httpt=a,this.urlApi="https://fakestoreapi.com/",this.provincesApi=C.tinhthanhApi,this.httpOptions={headers:new t.WM({"Content-Type":"application/json"})}}GetCallProvinces(c,a){var i=this;return(0,d.Z)(function*(){let r=i.httpt.get(i.provincesApi);return r.subscribe({next:l=>(c?.(l),!0),error:l=>(a?.(),!1),complete:()=>{}}),r})()}GetCallCommonWs(c,a,i){var r=this;return(0,d.Z)(function*(){let l=r.httpt.get(r.urlApi+c,{observe:"response"});return l.subscribe({next:p=>(a?.(p),!0),error:p=>(i?.(),!1),complete:()=>{}}),l})()}PostCallCommonWs(c,a,i,r){var l=this;return(0,d.Z)(function*(){let p=l.http.post(c,a,{needSuccessInfo:!1});return p.subscribe({next:f=>(i?.(f),!0),error:f=>(r?.(),!1),complete:()=>{}}),p})()}GetCallWs(c,a,i){var r=this;return(0,d.Z)(function*(){let l=r.http.get(c,{observe:"response"});return l.subscribe({next:p=>(a?.(p),!0),error:p=>(i?.(),!1),complete:()=>{}}),l})()}PostCallWs(c,a,i,r){var l=this;return(0,d.Z)(function*(){let p=l.http.post(c,a,{needSuccessInfo:!1});return p.subscribe({next:f=>(i?.(f),!0),error:f=>(r?.(),!1),complete:()=>{}}),p})()}PutCallWs(c,a,i,r){var l=this;return(0,d.Z)(function*(){let p=l.http.put(c,a,{needSuccessInfo:!0});return p.subscribe({next:f=>(i?.(f),!0),error:f=>(r?.(),!1),complete:()=>{}}),p})()}DeleteCallWs(c,a,i,r){var l=this;return(0,d.Z)(function*(){let p=l.http.delete(c,a,{needSuccessInfo:!0});return p.subscribe({next:f=>(i?.(f),!0),error:f=>(r?.(),!1),complete:()=>{}}),p})()}}return z.\u0275fac=function(c){return new(c||z)(g.LFG(E.q),g.LFG(t.eN))},z.\u0275prov=g.Yz7({token:z,factory:z.\u0275fac,providedIn:"root"}),z})()},13951:(X,b,o)=>{o.d(b,{H:()=>z});var d=o(91565),t=o(44556),C=o(36895),g=o(94650),E=o(9116),T=o(99651);let z=(()=>{class _{constructor(a,i,r,l,p){this.webService=a,this.router=i,this.cdf=r,this.datePipe=l,this.tabService=p,this.formItemNm={},this.list=[],this.title="nam pham",this.constHttt=t.Hinhthucthanhtoan}ngOnDestroy(){this.destroy()}ngOnInit(){this.setFormItemNm()}setFormItemNm(){this.webService.PostCallWs(t.Ant100PostUrlParams,{url:this.router.url},i=>{this.list=i,this.list.forEach(r=>{this.formItemNm[r.stt]=r.title1}),this.fnInit()})}getDate(){return this.datePipe.transform(new Date,"yyyy/MM/dd")+""}formatDate(a){return null==a||""==a?"":this.datePipe.transform(a,"yyyy/MM/dd")+""}displayVND(a){return(0,C.xG)(1e3*a,"vi-VN","\u0111","symbol-narrow","1.0-0")}displayOD(a){return a.slice(-5)+"-"+a.substring(0,a.length-5)}transfer(a){let i=this.tabService.findIndex(a);-1==i||this.tabService.delTab(this.tabService.getTabArray()[i],i),this.router.navigate([a])}mergeHttt(a){let i=a+"",r="";for(let l of this.constHttt)l.value===i&&(r=l.lable);return r}}return _.\u0275fac=function(a){return new(a||_)(g.Y36(d.Q),g.Y36(E.F0),g.Y36(g.sBO),g.Y36(C.uU),g.Y36(T.p))},_.\u0275cmp=g.Xpm({type:_,selectors:[["app-base"]],features:[g._Bn([C.uU])],decls:0,vars:0,template:function(a,i){},encapsulation:2}),_})()},19642:(X,b,o)=>{o.r(b),o.d(b,{XeModule:()=>ot});var d=o(5316),t=o(94650);let C=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[d.m]}),n})();var g=o(9116),E=o(13951),T=o(22195),z=o(28746),_=o(78877),c=o(22155),a=o(91565),i=o(36895),r=o(24006),l=o(39646),p=o(49523),f=o(50007),x=o(73679),v=o(36704),D=o(35635);let S=(()=>{class n{constructor(e,s){this.modalRef=e,this.fb=s,this.params={}}initForm(){this.addEditForm=this.fb.group({biensoxe:[null,[r.kI.required]],tenxegoinho:[null,[r.kI.required]],trongtai:[null,[r.kI.required]]})}getAsyncFnData(e){return(0,l.of)(e)}getCurrentValue(){return(0,p.r7)(this.addEditForm)?(0,l.of)(this.addEditForm.value):(0,l.of)(!1)}ngOnInit(){this.initForm(),Object.keys(this.params).length>0&&this.addEditForm.patchValue(this.params)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(f.Lf),t.Y36(r.qu))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-xe-modal"]],decls:16,vars:13,consts:[["nz-form","",3,"formGroup"],["nzRequired","","nzFor","biensoxe",3,"nzSm","nzXs"],["nzErrorTip","Vui l\xf2ng nh\u1eadp Bi\u1ec3n s\u1ed1 xe",3,"nzSm","nzXs"],["nz-input","","formControlName","biensoxe","name","biensoxe","placeholder","Vui l\xf2ng nh\u1eadp bi\u1ec3n s\u1ed1 xe","id","biensoxe"],["nzRequired","","nzFor","tenxegoinho",3,"nzSm","nzXs"],["nzErrorTip","Vui l\xf2ng nh\u1eadp T\xean g\u1ee3i nh\u1edb",3,"nzSm","nzXs"],["nz-input","","formControlName","tenxegoinho","name","tenxegoinho","placeholder","Vui l\xf2ng nh\u1eadp t\xean g\u1ee3i nh\u1edb","id","tenxegoinho"],["nzRequired","","nzFor","trongtai",3,"nzSm","nzXs"],["nzErrorTip","Vui l\xf2ng nh\u1eadp Tr\u1ecdng t\u1ea3i xe (vd: 8 T\u1ea5n)",3,"nzSm","nzXs"],["nz-input","","formControlName","trongtai","name","trongtai","placeholder","Vui l\xf2ng nh\u1eadp tr\u1ecdng t\u1ea3i","id","trongtai"]],template:function(e,s){1&e&&(t.TgZ(0,"form",0)(1,"nz-form-item")(2,"nz-form-label",1),t._uU(3,"Bi\u1ec3n s\u1ed1 xe"),t.qZA(),t.TgZ(4,"nz-form-control",2),t._UZ(5,"input",3),t.qZA()(),t.TgZ(6,"nz-form-item")(7,"nz-form-label",4),t._uU(8,"T\xean g\u1ee3i nh\u1edb"),t.qZA(),t.TgZ(9,"nz-form-control",5),t._UZ(10,"input",6),t.qZA()(),t.TgZ(11,"nz-form-item")(12,"nz-form-label",7),t._uU(13,"Tr\u1ecdng t\u1ea3i"),t.qZA(),t.TgZ(14,"nz-form-control",8),t._UZ(15,"input",9),t.qZA()()()),2&e&&(t.Q6J("formGroup",s.addEditForm),t.xp6(2),t.Q6J("nzSm",4)("nzXs",24),t.xp6(2),t.Q6J("nzSm",18)("nzXs",24),t.xp6(3),t.Q6J("nzSm",4)("nzXs",24),t.xp6(2),t.Q6J("nzSm",18)("nzXs",24),t.xp6(3),t.Q6J("nzSm",4)("nzXs",24),t.xp6(2),t.Q6J("nzSm",18)("nzXs",24))},dependencies:[r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u,x.t3,x.SK,v.Lr,v.Nx,v.iK,v.Fd,D.Zp],changeDetection:0}),n})();var F=o(69174);let Z=(()=>{class n{constructor(e){this.modalWrapService=e}getContentComponent(){return S}show(e={},s){return this.modalWrapService.show(this.getContentComponent(),e,s)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(F.U))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var P=o(58986),L=o(99651),B=o(32802),O=o(5529),J=o(35656),N=o(94178),Q=o(21102),W=o(66616),I=o(47044),Y=o(21811),H=o(51971);const U=["pageHeaderContent"],G=["operationTpl"];function R(n,m){if(1&n){const e=t.EpF();t.TgZ(0,"span",19)(1,"button",20),t.NdJ("click",function(){t.CHM(e);const u=t.oxw().id,h=t.oxw();return t.KtG(h.edit(u))}),t._uU(2,"C\u1eadp nh\u1eadt"),t.qZA()()}}function K(n,m){if(1&n){const e=t.EpF();t.TgZ(0,"span",19)(1,"button",20),t.NdJ("click",function(){t.CHM(e);const u=t.oxw().id,h=t.oxw();return t.KtG(h.del(u))}),t._uU(2,"X\xf3a"),t.qZA()()}}function V(n,m){if(1&n&&(t.YNc(0,R,3,0,"span",18),t.YNc(1,K,3,0,"span",18)),2&n){const e=t.oxw();t.Q6J("appAuth",e.ActionCode.XeEdit),t.xp6(1),t.Q6J("appAuth",e.ActionCode.XeDel)}}function j(n,m){if(1&n){const e=t.EpF();t.TgZ(0,"button",22),t.NdJ("click",function(){t.CHM(e);const u=t.oxw(2);return t.KtG(u.add())}),t._UZ(1,"i",23),t._uU(2," Th\xeam m\u1edbi "),t.qZA()}}function k(n,m){if(1&n&&t.YNc(0,j,3,0,"button",21),2&n){const e=t.oxw();t.Q6J("appAuth",e.ActionCode.XeAdd)}}function w(n,m){1&n&&(t.TgZ(0,"h3"),t._uU(1,"K\u1ebft qu\u1ea3 t\xecm ki\u1ebfm"),t.qZA())}const $=function(){return{"padding-bottom":0}},q=function(){return{xs:8,sm:16,md:24}},tt=[{path:"",component:(()=>{class n extends E.H{constructor(e,s,u,h,A,M,y){super(e,s,u,h,y),this.webService=e,this.router=s,this.cdf=u,this.datePipe=h,this.modalService=A,this.dataService=M,this.tabService=y,this.DisplayScreenID=c.t.spxe00101,this.pageHeaderInfo={title:"",breadcrumb:[],desc:""},this.searchParam={},this.ActionCode=T.h,this.dataList=[],this.checkedCashArray=[],this.stateOptions=[],this.pageHeaderInfo={title:this.formItemNm[1],breadcrumb:["Home","Qu\u1ea3n l\xfd h\u1ec7 th\u1ed1ng","Qu\u1ea3n l\xfd xe"],desc:this.pageHeaderContent},this.cdf.markForCheck()}ngOnInit(){this.initTable(),this.stateOptions=[..._.b.transformMapToArray(_.V.available,2)]}fnInit(){}getDataList(e){this.tableConfig.loading=!0,this.dataService.getXes({pageSize:this.tableConfig.pageSize,pageNum:e?.pageIndex||this.tableConfig.pageIndex,filters:this.searchParam}).pipe((0,z.x)(()=>{this.tableLoading(!1)})).subscribe(u=>{const{list:h,total:A,pageNum:M}=u;this.dataList=[...h],this.tableConfig.total=A,this.tableConfig.pageIndex=M,this.tableLoading(!1),this.checkedCashArray=[...this.checkedCashArray]})}changePageSize(e){this.tableConfig.pageSize=e}reloadTable(){}resetForm(){}initTable(){this.tableConfig={showCheckbox:!1,headers:[{title:"Bi\u1ec3n s\u1ed1 xe",field:"biensoxe",width:150},{title:"T\xean g\u1ee3i nh\u1edb",width:200,field:"tenxegoinho"},{title:"Trong tai",width:120,field:"trongtai"},{title:"Tr\u1ea1ng th\xe1i",width:100,field:"trangthai"},{title:"V\u1eadn h\xe0nh",tdTemplate:this.operationTpl,width:280,fixed:!0,fixedDir:"right"}],total:0,loading:!0,pageSize:10,pageIndex:1}}add(){this.modalService.show({nzTitle:"Th\xeam m\u1edbi"}).subscribe(e=>{!e||0===e.status||(this.tableLoading(!0),this.addEditData(e.modalValue,"createXe"))},e=>this.tableLoading(!1))}addEditData(e,s){this.dataService[s](e).pipe((0,z.x)(()=>{this.tableLoading(!1)})).subscribe(()=>{this.getDataList()})}tableChangeDectction(){this.dataList=[...this.dataList],this.cdf.detectChanges()}tableLoading(e){this.tableConfig.loading=e,this.tableChangeDectction()}del(e){}edit(e){this.dataService.getXe(e).subscribe(s=>{this.modalService.show({nzTitle:"C\u1eadp nh\u1eadt"},s).subscribe(({modalValue:u,status:h})=>{0!==h&&(u.id=e,this.tableLoading(!0),this.addEditData(u,"updateXe"))})})}destroy(){}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(a.Q),t.Y36(g.F0),t.Y36(t.sBO),t.Y36(i.uU),t.Y36(Z),t.Y36(P.p),t.Y36(L.p))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-xe"]],viewQuery:function(e,s){if(1&e&&(t.Gf(U,5),t.Gf(G,7)),2&e){let u;t.iGM(u=t.CRH())&&(s.pageHeaderContent=u.first),t.iGM(u=t.CRH())&&(s.operationTpl=u.first)}},features:[t.qOj],decls:27,vars:29,consts:[[3,"pageHeaderInfo"],[1,"normal-table-wrap"],["nzHoverable","",1,"m-b-10",3,"nzBodyStyle"],["nz-form",""],["nz-row","",3,"nzGutter"],["nz-col","",3,"nzXXl","nzXl","nzLg","nzMd","nzSm","nzXs"],[3,"nzFor"],["nz-input","","name","roleName","placeholder","Vui l\xf2ng nh\u1eadp t\xean g\u1ee3i nh\u1edb",3,"ngModel","ngModelChange"],["nz-col","",1,"text-right","p-0","m-b-10",3,"nzXXl","nzXl","nzLg","nzMd","nzSm","nzXs"],["nz-button","",3,"nzType","click"],["nz-icon","","nzType","search"],["nz-button","",1,"m-l-15",3,"click"],["nz-icon","","nzType","close-circle","nzTheme","outline"],[3,"tableTitle","btnTpl","reload"],[3,"tableConfig","tableData","changePageSize","changePageNum"],["operationTpl",""],["tableBtns",""],["titleTable",""],["class","operate-text",4,"appAuth"],[1,"operate-text"],["nz-button","","nzType","primary","nzGhost","",3,"click"],["nz-button","","nzType","primary","class","m-r-8",3,"click",4,"appAuth"],["nz-button","","nzType","primary",1,"m-r-8",3,"click"],["nz-icon","","nzType","plus"]],template:function(e,s){if(1&e&&(t._UZ(0,"app-page-header",0),t.TgZ(1,"div",1)(2,"nz-card",2)(3,"form",3)(4,"div",4)(5,"div",5)(6,"nz-form-item")(7,"nz-form-label",6),t._uU(8,"T\xean g\u1ee3i nh\u1edb"),t.qZA(),t.TgZ(9,"nz-form-control")(10,"input",7),t.NdJ("ngModelChange",function(h){return s.searchParam.tengoinho=h}),t.qZA()()()(),t._UZ(11,"div",5),t.TgZ(12,"div",8)(13,"button",9),t.NdJ("click",function(){return s.getDataList()}),t._UZ(14,"i",10),t._uU(15," T\xecm ki\u1ebfm "),t.qZA(),t.TgZ(16,"button",11),t.NdJ("click",function(){return s.resetForm()}),t._UZ(17,"i",12),t._uU(18," C\xe1i l\u1ea1i "),t.qZA()()()()(),t.TgZ(19,"app-card-table-wrap",13),t.NdJ("reload",function(){return s.reloadTable()}),t.TgZ(20,"app-ant-table",14),t.NdJ("changePageSize",function(h){return s.changePageSize(h)})("changePageNum",function(h){return s.getDataList(h)}),t.qZA(),t.YNc(21,V,2,2,"ng-template",null,15,t.W1O),t.qZA()(),t.YNc(23,k,1,1,"ng-template",null,16,t.W1O),t.YNc(25,w,2,0,"ng-template",null,17,t.W1O)),2&e){const u=t.MAs(24),h=t.MAs(26);t.Q6J("pageHeaderInfo",s.pageHeaderInfo),t.xp6(2),t.Q6J("nzBodyStyle",t.DdM(27,$)),t.xp6(2),t.Q6J("nzGutter",t.DdM(28,q)),t.xp6(1),t.Q6J("nzXXl",8)("nzXl",8)("nzLg",8)("nzMd",12)("nzSm",24)("nzXs",24),t.xp6(5),t.Q6J("ngModel",s.searchParam.tengoinho),t.xp6(1),t.Q6J("nzXXl",8)("nzXl",8)("nzLg",8)("nzMd",12)("nzSm",24)("nzXs",24),t.xp6(1),t.Q6J("nzXXl",8)("nzXl",8)("nzLg",8)("nzMd",12)("nzSm",24)("nzXs",24),t.xp6(1),t.Q6J("nzType","primary"),t.xp6(6),t.Q6J("tableTitle",h)("btnTpl",u),t.xp6(1),t.Q6J("tableConfig",s.tableConfig)("tableData",s.dataList)}},dependencies:[r._Y,r.Fj,r.JJ,r.JL,r.On,r.F,B.q,O.q,J.x,N.p,Q.Ls,x.t3,x.SK,v.Lr,v.Nx,v.iK,v.Fd,W.ix,I.w,Y.dQ,D.Zp,H.bd],changeDetection:0}),n})(),data:{title:"Qu\u1ea3n l\xfd xe",key:"quanlyxe"}}];let et=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[g.Bz.forChild(tt),g.Bz]}),n})();var nt=o(27218);let ot=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[d.m,C,et,nt.C]}),n})()}}]);