"use strict";(self.webpackChunkng_ant_admin=self.webpackChunkng_ant_admin||[]).push([[1076],{11076:(b,g,l)=>{l.r(g),l.d(g,{Spkh00301Module:()=>gn});var h=l(9116),_=l(22155),m=l(13951),u=l(44556),r=l(22195),C=l(28746),n=l(94650),v=l(91565),S=l(36895),x=l(99651),D=l(35568),J=l(49651),O=l(94267),A=l(54246);let Z=(()=>{class a{constructor(t){this.http=t}search(t){return this.http.post(u.Spkh00301Ant100Search,t,{needSuccessInfo:!1})}}return a.\u0275fac=function(t){return new(t||a)(n.LFG(A.q))},a.\u0275prov=n.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();var c=l(24006),L=l(32802),Q=l(5529),N=l(94178),E=l(21102),M=l(73679),z=l(36704),F=l(66616),I=l(47044),P=l(21811),y=l(35635),H=l(28213),U=l(51971),G=l(834),Y=l(39597),X=l(64425);const B=["operationTpl"],w=["linkTpl"],K=["tenkhachhangTpl"],R=["trangthaiTpl"],W=["tiencuocTpl"],j=["endSoplnDate"];function V(a,s){if(1&a){const t=n.EpF();n.TgZ(0,"button",30),n.NdJ("click",function(){n.CHM(t);const o=n.oxw();return n.KtG(o.showVideo())}),n._UZ(1,"span",31),n._uU(2),n.qZA()}if(2&a){const t=n.oxw();n.Q6J("nzSize","large"),n.xp6(2),n.hij("",t.formItemNm[4]," ")}}function $(a,s){if(1&a){const t=n.EpF();n.TgZ(0,"button",32),n.NdJ("click",function(){n.CHM(t);const o=n.oxw();return n.KtG(o.searchUserClick())}),n._UZ(1,"span",14),n.qZA()}2&a&&n.Q6J("nzType","primary")}function q(a,s){}function nn(a,s){if(1&a){const t=n.EpF();n.ynx(0),n.TgZ(1,"app-card-table-wrap",33),n.NdJ("reload",function(){n.CHM(t);const o=n.oxw();return n.KtG(o.reloadTable())}),n.TgZ(2,"app-ant-table",34),n.NdJ("selectedChange",function(o){n.CHM(t);const i=n.oxw();return n.KtG(i.selectedChecked(o))})("changePageSize",function(o){n.CHM(t);const i=n.oxw();return n.KtG(i.changePageSize(o))})("changePageNum",function(o){n.CHM(t);const i=n.oxw();return n.KtG(i.getDataList(o))}),n.qZA()(),n.YNc(3,q,0,0,"ng-template",null,35,n.W1O),n.BQk()}if(2&a){const t=n.MAs(4),e=n.oxw();n.xp6(1),n.Q6J("tableTitle",e.formItemNm[8])("btnTpl",t),n.xp6(1),n.Q6J("checkedCashArrayFromComment",e.checkedCashArray)("tableConfig",e.tableConfig)("tableData",e.dataList)}}function tn(a,s){if(1&a){const t=n.EpF();n.TgZ(0,"span")(1,"a",36),n.NdJ("click",function(){const i=n.CHM(t).soodc,p=n.oxw();return n.KtG(p.getItem(i))}),n._uU(2),n.qZA()(),n.TgZ(3,"button",37),n._UZ(4,"span",38),n.qZA()}if(2&a){const t=s.soodc,e=n.oxw();n.xp6(2),n.Oqu(t),n.xp6(1),n.Q6J("cdkCopyToClipboard",e.copy(t))}}function en(a,s){1&a&&n._UZ(0,"nz-alert",39),2&a&&n.s9C("nzMessage",s.idkhachhang.name)}function an(a,s){if(1&a&&(n.TgZ(0,"span"),n._uU(1),n.ALo(2,"currency"),n.qZA()),2&a){const t=s.tongcuoc;n.xp6(1),n.Oqu(n.Dn7(2,1,1e3*t,"VND",""))}}function on(a,s){1&a&&(n.ynx(0),n._UZ(1,"nz-alert",42),n.BQk())}function ln(a,s){1&a&&n._UZ(0,"nz-alert",43)}function sn(a,s){if(1&a&&(n.YNc(0,on,2,0,"ng-container",40),n.YNc(1,ln,1,0,"ng-template",null,41,n.W1O)),2&a){const t=s.status01,e=n.MAs(2);n.Q6J("ngIf",0==t)("ngIfElse",e)}}const rn=function(){return{"padding-bottom":0}},T=function(){return{xs:8,sm:16,md:24}},cn=[{path:"",component:(()=>{class a extends m.H{constructor(t,e,o,i,p,f,mn,un,zn){super(t,e,o,i,p,f),this.webService=t,this.router=e,this.cdf=o,this.datePipe=i,this.tabService=p,this.modalVideoyoutube=f,this.message=mn,this.spin00251subkhachhangService=un,this.spkh00301Service=zn,this.DisplayScreenID=_.t.spkh00301,this.pageHeaderInfo={title:"",breadcrumb:["","",""]},this.searchParam={},this.dateFormat=u.dateFormat,this.dataList=[],this.checkedCashArray=[],this.ActionCode=r.h,this.usernm="",this.stockuser="",this.checkOptionStatus=[{label:"Ch\u1edd thanh to\xe1n",value:0,checked:!1},{label:"\u0110\xe3 th\xe1nh to\xe1n",value:1,checked:!1}],this.ngaybatdau=null,this.ngayketthuc=null,this.disabledStartSoplnDate=d=>{if(!d||!this.ngayketthuc)return!1;const k=new Date(this.ngayketthuc);return d.getTime()>k.getTime()},this.disabledEndSoplnDate=d=>{if(!d||!this.ngaybatdau)return!1;const k=new Date(this.ngaybatdau);return d.getTime()<=k.getTime()}}fnInit(){this.pageHeaderInfo={title:this.formItemNm[3],breadcrumb:[this.formItemNm[1],this.formItemNm[2],this.formItemNm[3]],desc:""},this.initTable()}destroy(){}handleStartOpenSoplnChange(t){t||this.endSoplnDate.open()}handleEndOpenSoplnChange(t){}changeStatus01(){this.searchParam.status01=this.checkOptionStatus.every(t=>t.checked)?null:1==this.checkOptionStatus[0].checked?0:1==this.checkOptionStatus[1].checked?1:null}fnFocusOutUser(){this.searchParam.iduser!=this.stockuser&&(this.usernm="")}searchUserClick(){this.spin00251subkhachhangService.show({nzTitle:"Danh s\xe1ch kh\xe1ch h\xe0ng"},{showcomfirm:!1}).subscribe(t=>{if(!t||0===t.status)return;const e={...t.modalValue};this.searchParam.iduser=e.id,this.stockuser=e.id,this.usernm=e.name})}getDataList(t){this.tableLoading(!0),this.searchParam.ngaybatdau=this.formatDate(this.ngaybatdau),this.searchParam.ngayketthuc=this.formatDate(this.ngayketthuc),this.spkh00301Service.search({pageSize:this.tableConfig.pageSize,pageNum:t?.pageIndex||this.tableConfig.pageIndex,filters:this.searchParam}).pipe((0,C.x)(()=>{this.tableLoading(!1)})).subscribe(o=>{const{list:i,total:p,pageNum:f}=o;this.dataList=[...i],this.tableConfig.total=p,this.tableConfig.pageIndex=f,this.tableLoading(!1),this.checkedCashArray=[...this.checkedCashArray]})}resetForm(){this.searchParam={},this.usernm=""}reloadTable(){this.message.info("\u0110\xe3 \u0111\u01b0\u1ee3c l\xe0m m\u1edbi"),this.getDataList()}tableChangeDectction(){this.dataList=[...this.dataList],this.cdf.detectChanges()}tableLoading(t){this.tableConfig.loading=t,this.tableChangeDectction()}selectedChecked(t){this.checkedCashArray=[...t]}changePageSize(t){this.tableConfig.pageSize=t}copy(t){return`${t}`}getItem(t){}initTable(){this.tableConfig={showCheckbox:!1,headers:[{title:"S\u1ed1 ODC",field:"soodc",width:220,tdTemplate:this.linkTpl},{title:"T\u1ed1ng c\u01b0\u1edbc",field:"tongcuoc",width:180,tdTemplate:this.tiencuocTpl},{title:"Kh\xe1ch h\xe0ng",field:"tenkhachhang",width:180,tdTemplate:this.tenkhachhangTpl},{title:"Tr\u1ea1ng th\xe1i",width:180,field:"trangthai",tdTemplate:this.trangthaiTpl},{title:"Ng\xe0y xu\u1ea5t",width:120,field:"ngayxuat",pipe:"date: dd/MM/yyyy:HH:ss"},{title:"Ng\xe0y thanh to\xe1n",width:150,field:"ngaythanhtoan",pipe:"date: dd/MM/yyyy:HH:ss"},{title:"V\u1eadn h\xe0nh",tdTemplate:this.operationTpl,width:250,fixed:!0,fixedDir:"right"}],total:0,loading:!0,pageSize:10,pageIndex:1}}}return a.\u0275fac=function(t){return new(t||a)(n.Y36(v.Q),n.Y36(h.F0),n.Y36(n.sBO),n.Y36(S.uU),n.Y36(x.p),n.Y36(D.L),n.Y36(J.dD),n.Y36(O.a),n.Y36(Z))},a.\u0275cmp=n.Xpm({type:a,selectors:[["app-spkh00301"]],viewQuery:function(t,e){if(1&t&&(n.Gf(B,7),n.Gf(w,7),n.Gf(K,7),n.Gf(R,7),n.Gf(W,7),n.Gf(j,5)),2&t){let o;n.iGM(o=n.CRH())&&(e.operationTpl=o.first),n.iGM(o=n.CRH())&&(e.linkTpl=o.first),n.iGM(o=n.CRH())&&(e.tenkhachhangTpl=o.first),n.iGM(o=n.CRH())&&(e.trangthaiTpl=o.first),n.iGM(o=n.CRH())&&(e.tiencuocTpl=o.first),n.iGM(o=n.CRH())&&(e.endSoplnDate=o.first)}},features:[n.qOj],decls:63,vars:123,consts:[[3,"pageHeaderInfo","extraTpl"],["huongdanTpl",""],[1,"normal-table-wrap"],["nzHoverable","",1,"m-b-10",3,"nzBodyStyle"],["nz-form",""],["nz-row","",3,"nzGutter"],["nz-col","",3,"nzXXl","nzXl","nzLg","nzMd","nzSm","nzXs"],[3,"nzXXl","nzXl","nzLg","nzMd","nzSm","nzXs","nzFor"],[3,"nzXXl","nzXl","nzLg","nzMd","nzSm","nzXs"],["name","ngaybatdau",3,"nzDisabledDate","nzFormat","ngModel","nzPlaceHolder","ngModelChange","nzOnOpenChange"],["name","ngayketthuc",3,"nzDisabledDate","nzFormat","ngModel","nzPlaceHolder","ngModelChange","nzOnOpenChange"],["endSoplnDate",""],["nz-col","",1,"text-right","p-0","m-b-10",3,"nzXXl","nzXl","nzLg","nzMd","nzSm","nzXs"],["nz-button","",3,"nzType","click"],["nz-icon","","nzType","search"],["nz-button","",1,"m-l-15",3,"click"],["nz-icon","","nzType","close-circle","nzTheme","outline"],["nz-col","",1,"inputIcon",3,"nzXXl","nzXl","nzLg","nzMd","nzSm","nzXs"],[3,"nzXXl","nzXl","nzLg","nzMd","nzSm","nzXs","nzErrorTip"],["nzSearch","",3,"nzAddOnAfter"],["name","iduser","type","text","nz-input","","placeholder","",3,"ngModel","ngModelChange","blur"],["suffixIconButtonUser",""],["nzFor","",1,"fix-inputIcon",3,"nzNoColon"],[3,"ngModel","ngModelChange"],["nz-input","","name","soODC","id","soODC","placeholder","",3,"ngModel","ngModelChange"],[4,"ngIf"],["linkTpl",""],["tenkhachhangTpl",""],["tiencuocTpl",""],["trangthaiTpl",""],["nz-button","","nzType","primary","nzShape","round",3,"nzSize","click"],["nz-icon","","nzType","star","nzTheme","outline"],["nz-button","",1,"bg-icon",3,"nzType","click"],[3,"tableTitle","btnTpl","reload"],[3,"checkedCashArrayFromComment","tableConfig","tableData","selectedChange","changePageSize","changePageNum"],["tableBtns",""],["nz-button","","nzType","link",3,"click"],["nz-button","","nzType","default","nzShape","circle",3,"cdkCopyToClipboard"],["nz-icon","","nzType","copy"],["nzType","success",3,"nzMessage"],[4,"ngIf","ngIfElse"],["statusTpl",""],["nzType","warning","nzMessage","Ch\u1edd thanh to\xe1n"],["nzType","success","nzMessage","\u0110\xe3 thanh to\xe1n"]],template:function(t,e){if(1&t&&(n._UZ(0,"app-page-header",0),n.YNc(1,V,3,2,"ng-template",null,1,n.W1O),n.TgZ(3,"div",2)(4,"nz-card",3)(5,"form",4)(6,"div",5)(7,"div",6)(8,"nz-form-item")(9,"nz-form-label",7),n._uU(10,"Ng\xe0y b\u1eaft \u0111\u1ea7u"),n.qZA(),n.TgZ(11,"nz-form-control",8)(12,"nz-date-picker",9),n.NdJ("ngModelChange",function(i){return e.ngaybatdau=i})("nzOnOpenChange",function(i){return e.handleStartOpenSoplnChange(i)}),n.qZA()()()(),n.TgZ(13,"div",6)(14,"nz-form-item")(15,"nz-form-label",7),n._uU(16,"Ng\xe0y k\u1ebft th\xfac"),n.qZA(),n.TgZ(17,"nz-form-control",8)(18,"nz-date-picker",10,11),n.NdJ("ngModelChange",function(i){return e.ngayketthuc=i})("nzOnOpenChange",function(i){return e.handleEndOpenSoplnChange(i)}),n.qZA()()()(),n.TgZ(20,"div",12)(21,"button",13),n.NdJ("click",function(){return e.getDataList()}),n._UZ(22,"i",14),n._uU(23," T\xecm ki\u1ebfm "),n.qZA(),n.TgZ(24,"button",15),n.NdJ("click",function(){return e.resetForm()}),n._UZ(25,"i",16),n._uU(26," L\xe0m m\u1edbi "),n.qZA()()(),n.TgZ(27,"div",5)(28,"div",17)(29,"nz-form-item")(30,"nz-form-label",8),n._uU(31,"Id Kh\xe1ch H\xe0ng"),n.qZA(),n.TgZ(32,"nz-form-control",18)(33,"nz-input-group",19)(34,"input",20),n.NdJ("ngModelChange",function(i){return e.searchParam.iduser=i})("blur",function(){return e.fnFocusOutUser()}),n.qZA()(),n.YNc(35,$,2,1,"ng-template",null,21,n.W1O),n.TgZ(37,"nz-form-label",22)(38,"span")(39,"u"),n._uU(40),n.qZA()()()()()(),n.TgZ(41,"div",6)(42,"nz-form-item")(43,"nz-form-label",8),n._uU(44,"Tr\u1ea1ng th\xe1i"),n.qZA(),n.TgZ(45,"nz-form-control",8)(46,"nz-checkbox-group",23),n.NdJ("ngModelChange",function(i){return e.checkOptionStatus=i})("ngModelChange",function(){return e.changeStatus01()}),n.qZA()()()()(),n.TgZ(47,"div",5)(48,"div",6)(49,"nz-form-item")(50,"nz-form-label",7),n._uU(51,"S\u1ed1 ODC"),n.qZA(),n.TgZ(52,"nz-form-control",18)(53,"input",24),n.NdJ("ngModelChange",function(i){return e.searchParam.soODC=i}),n.qZA()()()()()()(),n.YNc(54,nn,5,5,"ng-container",25),n.YNc(55,tn,5,2,"ng-template",null,26,n.W1O),n.YNc(57,en,1,1,"ng-template",null,27,n.W1O),n.YNc(59,an,3,5,"ng-template",null,28,n.W1O),n.YNc(61,sn,3,2,"ng-template",null,29,n.W1O),n.qZA()),2&t){const o=n.MAs(2),i=n.MAs(36);n.Q6J("pageHeaderInfo",e.pageHeaderInfo)("extraTpl",o),n.xp6(4),n.Q6J("nzBodyStyle",n.DdM(119,rn)),n.xp6(2),n.Q6J("nzGutter",n.DdM(120,T)),n.xp6(1),n.Q6J("nzXXl",8)("nzXl",8)("nzLg",8)("nzMd",12)("nzSm",24)("nzXs",24),n.xp6(2),n.Q6J("nzXXl",9)("nzXl",9)("nzLg",9)("nzMd",12)("nzSm",24)("nzXs",24),n.xp6(2),n.Q6J("nzXXl",12)("nzXl",12)("nzLg",12)("nzMd",12)("nzSm",24)("nzXs",24),n.xp6(1),n.Q6J("nzDisabledDate",e.disabledStartSoplnDate)("nzFormat",e.dateFormat)("ngModel",e.ngaybatdau)("nzPlaceHolder",e.dateFormat),n.xp6(1),n.Q6J("nzXXl",8)("nzXl",8)("nzLg",8)("nzMd",12)("nzSm",24)("nzXs",24),n.xp6(2),n.Q6J("nzXXl",9)("nzXl",9)("nzLg",9)("nzMd",12)("nzSm",24)("nzXs",24),n.xp6(2),n.Q6J("nzXXl",12)("nzXl",12)("nzLg",12)("nzMd",12)("nzSm",24)("nzXs",24),n.xp6(1),n.Q6J("nzDisabledDate",e.disabledEndSoplnDate)("nzFormat",e.dateFormat)("ngModel",e.ngayketthuc)("nzPlaceHolder",e.dateFormat),n.xp6(2),n.Q6J("nzXXl",8)("nzXl",8)("nzLg",8)("nzMd",12)("nzSm",24)("nzXs",24),n.xp6(1),n.Q6J("nzType","primary"),n.xp6(6),n.Q6J("nzGutter",n.DdM(121,T)),n.xp6(1),n.Q6J("nzXXl",8)("nzXl",8)("nzLg",8)("nzMd",12)("nzSm",24)("nzXs",24),n.xp6(2),n.Q6J("nzXXl",9)("nzXl",9)("nzLg",9)("nzMd",12)("nzSm",24)("nzXs",24),n.xp6(2),n.Q6J("nzXXl",10)("nzXl",10)("nzLg",10)("nzMd",10)("nzSm",20)("nzXs",24),n.xp6(1),n.Q6J("nzAddOnAfter",i),n.xp6(1),n.Q6J("ngModel",e.searchParam.iduser),n.xp6(3),n.Q6J("nzNoColon",!0),n.xp6(3),n.Oqu(e.usernm),n.xp6(1),n.Q6J("nzXXl",8)("nzXl",8)("nzLg",8)("nzMd",12)("nzSm",24)("nzXs",24),n.xp6(2),n.Q6J("nzXXl",9)("nzXl",9)("nzLg",9)("nzMd",12)("nzSm",24)("nzXs",24),n.xp6(2),n.Q6J("nzXXl",10)("nzXl",10)("nzLg",10)("nzMd",10)("nzSm",20)("nzXs",24),n.xp6(1),n.Q6J("ngModel",e.checkOptionStatus),n.xp6(1),n.Q6J("nzGutter",n.DdM(122,T)),n.xp6(1),n.Q6J("nzXXl",8)("nzXl",8)("nzLg",8)("nzMd",12)("nzSm",24)("nzXs",24),n.xp6(2),n.Q6J("nzXXl",9)("nzXl",9)("nzLg",9)("nzMd",12)("nzSm",24)("nzXs",24),n.xp6(2),n.Q6J("nzXXl",12)("nzXl",12)("nzLg",12)("nzMd",12)("nzSm",24)("nzXs",24)("nzErrorTip",""),n.xp6(1),n.Q6J("ngModel",e.searchParam.soODC),n.xp6(1),n.Q6J("ngIf",e.tableConfig)}},dependencies:[S.O5,c._Y,c.Fj,c.JJ,c.JL,c.On,c.F,L.q,Q.q,N.p,E.Ls,M.t3,M.SK,z.Lr,z.Nx,z.iK,z.Fd,F.ix,I.w,P.dQ,y.Zp,y.gB,H.ub,U.bd,G.uw,Y.r,X.i3,S.H9]}),a})(),data:{title:"T\xecm ki\u1ebfm c\xf4ng n\u1ee3",key:"spkh00301"}}];let pn=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=n.oAB({type:a}),a.\u0275inj=n.cJS({imports:[h.Bz.forChild(cn),h.Bz]}),a})();var hn=l(5316),dn=l(30804);let gn=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=n.oAB({type:a}),a.\u0275inj=n.cJS({imports:[hn.m,pn,dn.A,X.Iq]}),a})()},30804:(b,g,l)=>{l.d(g,{A:()=>u});var h=l(5316),_=l(13458),m=l(94650);let u=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=m.oAB({type:r}),r.\u0275inj=m.cJS({imports:[h.m,_.e]}),r})()}}]);