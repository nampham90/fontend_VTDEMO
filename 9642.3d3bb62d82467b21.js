"use strict";(self.webpackChunkng_ant_admin=self.webpackChunkng_ant_admin||[]).push([[9642],{58986:(b,h,o)=>{o.d(h,{p:()=>g});var u=o(44556),t=o(94650),f=o(54246);let g=(()=>{class d{constructor(s){this.http=s}getXes(s){return this.http.post(u.XeAnt100GetAll,s,{needSuccessInfo:!1})}getXe(s){return this.http.get(`${u.XeAnt100Get}/${s}/`)}getlistXefree(){return this.http.get(u.XeAnt100Getlistfree)}getlistXerun(){return this.http.get(u.XeAnt100Getlistrun)}createXe(s){return this.http.post(u.XeAnt100Create,s,{needSuccessInfo:!1})}UpdateTrangthaiXe(s){return this.http.post(u.XeAnt100UpdateTrangthai,s,{needSuccessInfo:!1})}updateXe(s){return this.http.put(u.XeAnt100Update,s)}deleteXe(){}delateXes(){}}return d.\u0275fac=function(s){return new(s||d)(t.LFG(f.q))},d.\u0275prov=t.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})()},19642:(b,h,o)=>{o.r(h),o.d(h,{XeModule:()=>it});var u=o(5316),t=o(94650);let f=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[u.m]}),e})();var g=o(9116),d=o(13951),X=o(22195),s=o(28746),E=o(78877),A=o(22155),x=o(91565),S=o(36895),D=o(35568),p=o(24006),C=o(39646),M=o(49523),y=o(50007),z=o(73679),c=o(36704),v=o(35635);let F=(()=>{class e{constructor(n,a){this.modalRef=n,this.fb=a,this.params={}}initForm(){this.addEditForm=this.fb.group({biensoxe:[null,[p.kI.required]],tenxegoinho:[null,[p.kI.required]],trongtai:[null,[p.kI.required]]})}getAsyncFnData(n){return(0,C.of)(n)}getCurrentValue(){return(0,M.r7)(this.addEditForm)?(0,C.of)(this.addEditForm.value):(0,C.of)(!1)}ngOnInit(){this.initForm(),Object.keys(this.params).length>0&&this.addEditForm.patchValue(this.params)}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(y.Lf),t.Y36(p.qu))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-xe-modal"]],decls:16,vars:13,consts:[["nz-form","",3,"formGroup"],["nzRequired","","nzFor","biensoxe",3,"nzSm","nzXs"],["nzErrorTip","Vui l\xf2ng nh\u1eadp Bi\u1ec3n s\u1ed1 xe",3,"nzSm","nzXs"],["nz-input","","formControlName","biensoxe","name","biensoxe","placeholder","Vui l\xf2ng nh\u1eadp bi\u1ec3n s\u1ed1 xe","id","biensoxe"],["nzRequired","","nzFor","tenxegoinho",3,"nzSm","nzXs"],["nzErrorTip","Vui l\xf2ng nh\u1eadp T\xean g\u1ee3i nh\u1edb",3,"nzSm","nzXs"],["nz-input","","formControlName","tenxegoinho","name","tenxegoinho","placeholder","Vui l\xf2ng nh\u1eadp t\xean g\u1ee3i nh\u1edb","id","tenxegoinho"],["nzRequired","","nzFor","trongtai",3,"nzSm","nzXs"],["nzErrorTip","Vui l\xf2ng nh\u1eadp Tr\u1ecdng t\u1ea3i xe (vd: 8 T\u1ea5n)",3,"nzSm","nzXs"],["nz-input","","formControlName","trongtai","name","trongtai","placeholder","Vui l\xf2ng nh\u1eadp tr\u1ecdng t\u1ea3i","id","trongtai"]],template:function(n,a){1&n&&(t.TgZ(0,"form",0)(1,"nz-form-item")(2,"nz-form-label",1),t._uU(3,"Bi\u1ec3n s\u1ed1 xe"),t.qZA(),t.TgZ(4,"nz-form-control",2),t._UZ(5,"input",3),t.qZA()(),t.TgZ(6,"nz-form-item")(7,"nz-form-label",4),t._uU(8,"T\xean g\u1ee3i nh\u1edb"),t.qZA(),t.TgZ(9,"nz-form-control",5),t._UZ(10,"input",6),t.qZA()(),t.TgZ(11,"nz-form-item")(12,"nz-form-label",7),t._uU(13,"Tr\u1ecdng t\u1ea3i"),t.qZA(),t.TgZ(14,"nz-form-control",8),t._UZ(15,"input",9),t.qZA()()()),2&n&&(t.Q6J("formGroup",a.addEditForm),t.xp6(2),t.Q6J("nzSm",4)("nzXs",24),t.xp6(2),t.Q6J("nzSm",18)("nzXs",24),t.xp6(3),t.Q6J("nzSm",4)("nzXs",24),t.xp6(2),t.Q6J("nzSm",18)("nzXs",24),t.xp6(3),t.Q6J("nzSm",4)("nzXs",24),t.xp6(2),t.Q6J("nzSm",18)("nzXs",24))},dependencies:[p._Y,p.Fj,p.JJ,p.JL,p.sg,p.u,z.t3,z.SK,c.Lr,c.Nx,c.iK,c.Fd,v.Zp],changeDetection:0}),e})();var Z=o(69174);let J=(()=>{class e{constructor(n){this.modalWrapService=n}getContentComponent(){return F}show(n={},a){return this.modalWrapService.show(this.getContentComponent(),n,a)}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(Z.U))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var L=o(58986),U=o(99651),N=o(32802),Q=o(5529),B=o(35656),I=o(94178),Y=o(21102),G=o(66616),H=o(47044),O=o(21811),P=o(51971);const K=["pageHeaderContent"],R=["operationTpl"];function V(e,r){if(1&e){const n=t.EpF();t.TgZ(0,"button",19),t.NdJ("click",function(){t.CHM(n);const i=t.oxw();return t.KtG(i.showVideo())}),t._UZ(1,"span",20),t._uU(2,"H\u01b0\u1edbng d\u1eabn "),t.qZA()}2&e&&t.Q6J("nzSize","large")}function W(e,r){if(1&e){const n=t.EpF();t.TgZ(0,"span",22)(1,"button",23),t.NdJ("click",function(){t.CHM(n);const i=t.oxw().id,l=t.oxw();return t.KtG(l.edit(i))}),t._uU(2,"C\u1eadp nh\u1eadt"),t.qZA()()}}function j(e,r){if(1&e){const n=t.EpF();t.TgZ(0,"span",22)(1,"button",23),t.NdJ("click",function(){t.CHM(n);const i=t.oxw().id,l=t.oxw();return t.KtG(l.del(i))}),t._uU(2,"X\xf3a"),t.qZA()()}}function k(e,r){if(1&e&&(t.YNc(0,W,3,0,"span",21),t.YNc(1,j,3,0,"span",21)),2&e){const n=t.oxw();t.Q6J("appAuth",n.ActionCode.XeEdit),t.xp6(1),t.Q6J("appAuth",n.ActionCode.XeDel)}}function w(e,r){if(1&e){const n=t.EpF();t.TgZ(0,"button",25),t.NdJ("click",function(){t.CHM(n);const i=t.oxw(2);return t.KtG(i.add())}),t._UZ(1,"i",26),t._uU(2," Th\xeam m\u1edbi "),t.qZA()}}function $(e,r){if(1&e&&t.YNc(0,w,3,0,"button",24),2&e){const n=t.oxw();t.Q6J("appAuth",n.ActionCode.XeAdd)}}function q(e,r){1&e&&(t.TgZ(0,"h3"),t._uU(1,"K\u1ebft qu\u1ea3 t\xecm ki\u1ebfm"),t.qZA())}const tt=function(){return{"padding-bottom":0}},nt=function(){return{xs:8,sm:16,md:24}},et=[{path:"",component:(()=>{class e extends d.H{constructor(n,a,i,l,m,T,rt,_){super(n,a,i,l,_,m),this.webService=n,this.router=a,this.cdf=i,this.datePipe=l,this.modalVideoyoutube=m,this.modalService=T,this.dataService=rt,this.tabService=_,this.DisplayScreenID=A.t.spxe00101,this.pageHeaderInfo={title:"",breadcrumb:[],desc:""},this.searchParam={},this.ActionCode=X.h,this.dataList=[],this.checkedCashArray=[],this.stateOptions=[],this.pageHeaderInfo={title:this.formItemNm[1],breadcrumb:["Home","Qu\u1ea3n l\xfd h\u1ec7 th\u1ed1ng","Qu\u1ea3n l\xfd xe"],desc:this.pageHeaderContent},this.cdf.markForCheck()}ngOnInit(){this.initTable(),this.stateOptions=[...E.b.transformMapToArray(E.V.available,2)]}fnInit(){}getDataList(n){this.tableConfig.loading=!0,this.dataService.getXes({pageSize:this.tableConfig.pageSize,pageNum:n?.pageIndex||this.tableConfig.pageIndex,filters:this.searchParam}).pipe((0,s.x)(()=>{this.tableLoading(!1)})).subscribe(i=>{const{list:l,total:m,pageNum:T}=i;this.dataList=[...l],this.tableConfig.total=m,this.tableConfig.pageIndex=T,this.tableLoading(!1),this.checkedCashArray=[...this.checkedCashArray]})}changePageSize(n){this.tableConfig.pageSize=n}reloadTable(){}resetForm(){}initTable(){this.tableConfig={showCheckbox:!1,headers:[{title:"Bi\u1ec3n s\u1ed1 xe",field:"biensoxe",width:150},{title:"T\xean g\u1ee3i nh\u1edb",width:200,field:"tenxegoinho"},{title:"Trong tai",width:120,field:"trongtai"},{title:"Tr\u1ea1ng th\xe1i",width:100,field:"trangthai"},{title:"V\u1eadn h\xe0nh",tdTemplate:this.operationTpl,width:280,fixed:!0,fixedDir:"right"}],total:0,loading:!0,pageSize:10,pageIndex:1}}add(){this.modalService.show({nzTitle:"Th\xeam m\u1edbi"}).subscribe(n=>{!n||0===n.status||(this.tableLoading(!0),this.addEditData(n.modalValue,"createXe"))},n=>this.tableLoading(!1))}addEditData(n,a){this.dataService[a](n).pipe((0,s.x)(()=>{this.tableLoading(!1)})).subscribe(()=>{this.getDataList()})}tableChangeDectction(){this.dataList=[...this.dataList],this.cdf.detectChanges()}tableLoading(n){this.tableConfig.loading=n,this.tableChangeDectction()}del(n){}edit(n){this.dataService.getXe(n).subscribe(a=>{this.modalService.show({nzTitle:"C\u1eadp nh\u1eadt"},a).subscribe(({modalValue:i,status:l})=>{0!==l&&(i.id=n,this.tableLoading(!0),this.addEditData(i,"updateXe"))})})}destroy(){}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(x.Q),t.Y36(g.F0),t.Y36(t.sBO),t.Y36(S.uU),t.Y36(D.L),t.Y36(J),t.Y36(L.p),t.Y36(U.p))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-xe"]],viewQuery:function(n,a){if(1&n&&(t.Gf(K,5),t.Gf(R,7)),2&n){let i;t.iGM(i=t.CRH())&&(a.pageHeaderContent=i.first),t.iGM(i=t.CRH())&&(a.operationTpl=i.first)}},features:[t.qOj],decls:29,vars:30,consts:[[3,"pageHeaderInfo","extraTpl"],["huongdanTpl",""],[1,"normal-table-wrap"],["nzHoverable","",1,"m-b-10",3,"nzBodyStyle"],["nz-form",""],["nz-row","",3,"nzGutter"],["nz-col","",3,"nzXXl","nzXl","nzLg","nzMd","nzSm","nzXs"],[3,"nzFor"],["nz-input","","name","roleName","placeholder","Vui l\xf2ng nh\u1eadp t\xean g\u1ee3i nh\u1edb",3,"ngModel","ngModelChange"],["nz-col","",1,"text-right","p-0","m-b-10",3,"nzXXl","nzXl","nzLg","nzMd","nzSm","nzXs"],["nz-button","",3,"nzType","click"],["nz-icon","","nzType","search"],["nz-button","",1,"m-l-15",3,"click"],["nz-icon","","nzType","close-circle","nzTheme","outline"],[3,"tableTitle","btnTpl","reload"],[3,"tableConfig","tableData","changePageSize","changePageNum"],["operationTpl",""],["tableBtns",""],["titleTable",""],["nz-button","","nzType","primary","nzShape","round",3,"nzSize","click"],["nz-icon","","nzType","star","nzTheme","outline"],["class","operate-text",4,"appAuth"],[1,"operate-text"],["nz-button","","nzType","primary","nzGhost","",3,"click"],["nz-button","","nzType","primary","class","m-r-8",3,"click",4,"appAuth"],["nz-button","","nzType","primary",1,"m-r-8",3,"click"],["nz-icon","","nzType","plus"]],template:function(n,a){if(1&n&&(t._UZ(0,"app-page-header",0),t.YNc(1,V,3,1,"ng-template",null,1,t.W1O),t.TgZ(3,"div",2)(4,"nz-card",3)(5,"form",4)(6,"div",5)(7,"div",6)(8,"nz-form-item")(9,"nz-form-label",7),t._uU(10,"T\xean g\u1ee3i nh\u1edb"),t.qZA(),t.TgZ(11,"nz-form-control")(12,"input",8),t.NdJ("ngModelChange",function(l){return a.searchParam.tengoinho=l}),t.qZA()()()(),t._UZ(13,"div",6),t.TgZ(14,"div",9)(15,"button",10),t.NdJ("click",function(){return a.getDataList()}),t._UZ(16,"i",11),t._uU(17," T\xecm ki\u1ebfm "),t.qZA(),t.TgZ(18,"button",12),t.NdJ("click",function(){return a.resetForm()}),t._UZ(19,"i",13),t._uU(20," C\xe1i l\u1ea1i "),t.qZA()()()()(),t.TgZ(21,"app-card-table-wrap",14),t.NdJ("reload",function(){return a.reloadTable()}),t.TgZ(22,"app-ant-table",15),t.NdJ("changePageSize",function(l){return a.changePageSize(l)})("changePageNum",function(l){return a.getDataList(l)}),t.qZA(),t.YNc(23,k,2,2,"ng-template",null,16,t.W1O),t.qZA()(),t.YNc(25,$,1,1,"ng-template",null,17,t.W1O),t.YNc(27,q,2,0,"ng-template",null,18,t.W1O)),2&n){const i=t.MAs(2),l=t.MAs(26),m=t.MAs(28);t.Q6J("pageHeaderInfo",a.pageHeaderInfo)("extraTpl",i),t.xp6(4),t.Q6J("nzBodyStyle",t.DdM(28,tt)),t.xp6(2),t.Q6J("nzGutter",t.DdM(29,nt)),t.xp6(1),t.Q6J("nzXXl",8)("nzXl",8)("nzLg",8)("nzMd",12)("nzSm",24)("nzXs",24),t.xp6(5),t.Q6J("ngModel",a.searchParam.tengoinho),t.xp6(1),t.Q6J("nzXXl",8)("nzXl",8)("nzLg",8)("nzMd",12)("nzSm",24)("nzXs",24),t.xp6(1),t.Q6J("nzXXl",8)("nzXl",8)("nzLg",8)("nzMd",12)("nzSm",24)("nzXs",24),t.xp6(1),t.Q6J("nzType","primary"),t.xp6(6),t.Q6J("tableTitle",m)("btnTpl",l),t.xp6(1),t.Q6J("tableConfig",a.tableConfig)("tableData",a.dataList)}},dependencies:[p._Y,p.Fj,p.JJ,p.JL,p.On,p.F,N.q,Q.q,B.x,I.p,Y.Ls,z.t3,z.SK,c.Lr,c.Nx,c.iK,c.Fd,G.ix,H.w,O.dQ,v.Zp,P.bd],changeDetection:0}),e})(),data:{title:"Qu\u1ea3n l\xfd xe",key:"quanlyxe"}}];let ot=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[g.Bz.forChild(et),g.Bz]}),e})();var at=o(27218);let it=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[u.m,f,ot,at.C]}),e})()}}]);