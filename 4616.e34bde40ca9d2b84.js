"use strict";(self.webpackChunkng_ant_admin=self.webpackChunkng_ant_admin||[]).push([[4616],{4616:(E,g,r)=>{r.r(g),r.d(g,{SearchTableModule:()=>j});var m=r(6895),_=r(6083),h=r(9116),b=r(2195),s=r(4006),f=r(9523),e=r(4650),u=r(2802),p=r(3679),c=r(6704),T=r(5635),z=r(2577);function C(a,i){1&a&&(e.TgZ(0,"span",7),e._uU(1,"\u8fd4\u56de"),e.qZA())}let S=(()=>{class a{constructor(t,n,o){this.routeParam=t,this.cdr=n,this.fb=o,this.pageHeaderInfo={title:"\u8be6\u60c5",breadcrumb:["\u9996\u9875","\u5217\u8868\u9875","\u67e5\u8be2\u8868\u683c","\u8be6\u60c5"]},this.name="",this.backUrl="/default/page-demo/list/search-table"}initForm(){this.validateForm=this.fb.group({userName:[null,[s.kI.required]]})}submitForm(){(0,f.r7)(this.validateForm)}_onReuseDestroy(){console.log("\u9500\u6bc1\u4e86")}ngOnInit(){this.initForm(),this.routeParam.queryParams.subscribe(t=>{this.name=t.name,this.validateForm.get("userName")?.setValue(this.name)})}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(h.gz),e.Y36(e.sBO),e.Y36(s.qu))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-search-table-detail"]],decls:14,vars:5,consts:[[3,"backTpl","backUrl","pageHeaderInfo"],["back",""],[1,"normal-table-wrap"],["nz-input","",3,"ngModel","ngModelChange"],["nz-form","",3,"formGroup","ngSubmit"],["nzErrorTip","\u8bf7\u8f93\u5165\u7528\u6237\u540d!"],["type","text","nz-input","","formControlName","userName","placeholder","\u7528\u6237\u540d"],[1,"operate-text"]],template:function(t,n){if(1&t&&(e._UZ(0,"app-page-header",0),e.YNc(1,C,2,0,"ng-template",null,1,e.W1O),e.TgZ(3,"div",2)(4,"h1"),e._uU(5,"\u8f93\u5165\u6846\u6f14\u793a"),e.qZA(),e.TgZ(6,"input",3),e.NdJ("ngModelChange",function(l){return n.name=l}),e.qZA(),e._UZ(7,"nz-divider"),e.TgZ(8,"h1"),e._uU(9,"\u8868\u5355\u6f14\u793a"),e.qZA(),e.TgZ(10,"form",4),e.NdJ("ngSubmit",function(){return n.submitForm()}),e.TgZ(11,"nz-form-item")(12,"nz-form-control",5),e._UZ(13,"input",6),e.qZA()()()()),2&t){const o=e.MAs(2);e.Q6J("backTpl",o)("backUrl",n.backUrl)("pageHeaderInfo",n.pageHeaderInfo),e.xp6(6),e.Q6J("ngModel",n.name),e.xp6(4),e.Q6J("formGroup",n.validateForm)}},dependencies:[s._Y,s.Fj,s.JJ,s.JL,s.On,s.sg,s.u,u.q,p.t3,p.SK,c.Lr,c.Nx,c.Fd,T.Zp,z.g]}),a})();var Z=r(7),x=r(8313),y=r(5529),M=r(5037),J=r(4178),A=r(1102),F=r(6616),v=r(7044),N=r(1811),L=r(48),D=r(4607);const X=["highLightTpl"],k=["operationTpl"];function U(a,i){if(1&a){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",5)(2,"nz-form-item")(3,"nz-form-label",6),e._uU(4,"\u670d\u52a1\u8c03\u7528\u6b21\u6570"),e.qZA(),e.TgZ(5,"nz-form-control")(6,"input",8),e.NdJ("ngModelChange",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.searchParam.desc=o)}),e.qZA()()()(),e.TgZ(7,"div",5)(8,"nz-form-item")(9,"nz-form-label",6),e._uU(10,"\u72b6\u6001"),e.qZA(),e.TgZ(11,"nz-form-control")(12,"input",8),e.NdJ("ngModelChange",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.searchParam.desc=o)}),e.qZA()()()(),e.TgZ(13,"div",5)(14,"nz-form-item")(15,"nz-form-label",6),e._uU(16,"\u4e0a\u6b21\u8c03\u5ea6\u65f6\u95f4"),e.qZA(),e.TgZ(17,"nz-form-control")(18,"input",8),e.NdJ("ngModelChange",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.searchParam.desc=o)}),e.qZA()()()(),e.BQk()}if(2&a){const t=e.oxw();e.xp6(1),e.Q6J("nzXXl",8)("nzXl",8)("nzLg",8)("nzMd",12)("nzSm",24)("nzXs",24),e.xp6(5),e.Q6J("ngModel",t.searchParam.desc),e.xp6(1),e.Q6J("nzXXl",8)("nzXl",8)("nzLg",8)("nzMd",12)("nzSm",24)("nzXs",24),e.xp6(5),e.Q6J("ngModel",t.searchParam.desc),e.xp6(1),e.Q6J("nzXXl",8)("nzXl",8)("nzLg",8)("nzMd",12)("nzSm",24)("nzXs",24),e.xp6(5),e.Q6J("ngModel",t.searchParam.desc)}}function w(a,i){1&a&&(e.TgZ(0,"span"),e._uU(1,"\u5c55\u5f00"),e.qZA())}function Q(a,i){1&a&&(e.TgZ(0,"span"),e._uU(1,"\u6536\u8d77"),e.qZA())}function P(a,i){if(1&a){const t=e.EpF();e.TgZ(0,"span",22),e.NdJ("click",function(){const l=e.CHM(t).longText,d=e.oxw();return e.KtG(d.check(l))}),e._uU(1,"\u67e5\u770b"),e.qZA(),e.TgZ(2,"span",22),e.NdJ("click",function(){const l=e.CHM(t).id,d=e.oxw();return e.KtG(d.del(l))}),e._uU(3,"\u5220\u9664"),e.qZA(),e.TgZ(4,"span",22),e.NdJ("click",function(){const l=e.CHM(t).id,d=e.oxw();return e.KtG(d.edit(l))}),e._uU(5,"\u7f16\u8f91"),e.qZA()}}function I(a,i){1&a&&e._UZ(0,"nz-badge",23),2&a&&e.Q6J("nzText",i.name)}function B(a,i){if(1&a){const t=e.EpF();e.TgZ(0,"button",24),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.add())}),e._UZ(1,"i",25),e._uU(2," \u65b0\u5efa "),e.qZA(),e.TgZ(3,"button",26),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.allDel())}),e._UZ(4,"i",27),e._uU(5," \u5220\u9664 "),e.qZA()}}const H=function(){return{"padding-bottom":0}},O=function(){return{xs:8,sm:16,md:24}},Y=[{path:"",component:(()=>{class a{constructor(t,n,o,l,d){this.fb=t,this.modalSrv=n,this.message=o,this.router=l,this.cdr=d,this.searchParam={},this.isCollapse=!0,this.pageHeaderInfo={title:'\u67e5\u8be2\u8868\u683c\uff08\u8868\u5934\u53ef\u62d6\u52a8\uff0c\u70b9\u51fb\u5217\u8868\u7684"\u67e5\u770b"\u6309\u94ae\uff0c\u6f14\u793a\u5728\u5f53\u524dtab\u6253\u5f00\u8be6\u60c5\u64cd\u4f5c\uff0c\u5982\u679c\u9700\u8981\u65b0\u5f00tab\u5c55\u793a\u8be6\u60c5\uff0c\u8bf7\u8df3\u8f6c\u5230"\u529f\u80fd>\u9875\u7b7e\u64cd\u4f5c"\u4e2d\u67e5\u770b\u6f14\u793a\u6548\u679c\uff09',breadcrumb:["\u9996\u9875","\u5217\u8868\u9875","\u67e5\u8be2\u8868\u683c"]},this.checkedCashArray=[{id:"1",noShow:"\u9ed8\u8ba4\u4e0d\u5c55\u793a",longText:"\u6587\u5b57\u8d85\u7ea7\u957f\u6587\u5b57\u8d85\u7ea7\u957f\u6587\u5b57\u8d85\u7ea7\u957f\u6587\u5b57\u8d85\u7ea7\u957f\u6587\u5b57\u8d85\u7ea7\u957f\u6587\u5b57\u8d85\u7ea7\u957f",newline:"\u6ca1\u6709\u7701\u7565\u53f7\u6ca1\u6709\u7701\u7565\u53f7\u6ca1\u6709\u7701\u7565\u53f7\u6ca1\u6709\u7701\u7565\u53f7\u6ca1\u6709\u7701\u7565\u53f7\u6ca1\u6709\u7701\u7565\u53f7\u6ca1\u6709\u7701\u7565\u53f7\u6ca1\u6709\u7701\u7565\u53f7",addStyle:"\u52a0\u6837\u5f0f",name:"\u81ea\u5b9a\u4e49\u6a21\u677f",obj:{a:{b:"\u70b9\u51fa\u6765\u7684\u503c1"}}},{id:"2",noShow:"\u9ed8\u8ba4\u4e0d\u5c55\u793a",longText:"\u6587\u5b57\u8d85\u7ea7\u957f",newline:"string",name:"\u81ea\u5b9a\u4e49\u6a21\u677f",addStyle:"\u52a0\u6837\u5f0f",obj:{a:{b:"\u70b9\u51fa\u6765\u7684\u503c1"}}}],this.dataList=[]}selectedChecked(t){this.checkedCashArray=[...t]}reloadTable(){this.message.info("\u5df2\u7ecf\u5237\u65b0\u4e86"),this.getDataList()}tableChangeDectction(){this.dataList=[...this.dataList],this.cdr.detectChanges()}tableLoading(t){this.tableConfig.loading=t,this.tableChangeDectction()}getDataList(t){this.tableConfig.loading=!0,this.dataList=[],setTimeout(()=>{this.dataList=[{id:"1",noShow:"\u9ed8\u8ba4\u4e0d\u5c55\u793a",longText:"\u6587\u5b57\u8d85\u7ea7\u957f\u6587\u5b57\u8d85\u7ea7\u957f\u6587\u5b57\u8d85\u7ea7\u957f\u6587\u5b57\u8d85\u7ea7\u957f\u6587\u5b57\u8d85\u7ea7\u957f\u6587\u5b57\u8d85\u7ea7\u957f",newline:"\u6ca1\u6709\u7701\u7565\u53f7\u6ca1\u6709\u7701\u7565\u53f7\u6ca1\u6709\u7701\u7565\u53f7\u6ca1\u6709\u7701\u7565\u53f7\u6ca1\u6709\u7701\u7565\u53f7\u6ca1\u6709\u7701\u7565\u53f7\u6ca1\u6709\u7701\u7565\u53f7\u6ca1\u6709\u7701\u7565\u53f7",addStyle:"\u52a0\u6837\u5f0f",name:"\u81ea\u5b9a\u4e49\u6a21\u677f",obj:{a:{b:"\u70b9\u51fa\u6765\u7684\u503c1"}}},{id:"2",noShow:"\u9ed8\u8ba4\u4e0d\u5c55\u793a",longText:"\u6587\u5b57\u8d85\u7ea7\u957f",newline:"string",name:"\u81ea\u5b9a\u4e49\u6a21\u677f",addStyle:"\u52a0\u6837\u5f0f",obj:{a:{b:"\u70b9\u51fa\u6765\u7684\u503c1"}}},{id:"3",noShow:"\u9ed8\u8ba4\u4e0d\u5c55\u793a",longText:"string",newline:"string",name:"\u81ea\u5b9a\u4e49\u6a21\u677f",addStyle:"\u52a0\u6837\u5f0f",obj:{a:{b:"\u70b9\u51fa\u6765\u7684\u503c1"}}},{id:"4",noShow:"\u9ed8\u8ba4\u4e0d\u5c55\u793a",longText:"string",newline:"string",name:"\u81ea\u5b9a\u4e49\u6a21\u677f",addStyle:"\u52a0\u6837\u5f0f",obj:{a:{b:"\u70b9\u51fa\u6765\u7684\u503c1"}}},{id:"5",noShow:"\u9ed8\u8ba4\u4e0d\u5c55\u793a",longText:"string",newline:"string",name:"\u81ea\u5b9a\u4e49\u6a21\u677f",addStyle:"\u52a0\u6837\u5f0f",obj:{a:{b:"\u70b9\u51fa\u6765\u7684\u503c1"}}},{id:"6",noShow:"\u9ed8\u8ba4\u4e0d\u5c55\u793a",longText:"string",newline:"string",name:"\u81ea\u5b9a\u4e49\u6a21\u677f",addStyle:"\u52a0\u6837\u5f0f",obj:{a:{b:"\u70b9\u51fa\u6765\u7684\u503c1"}}}],this.tableConfig.total=13,this.tableConfig.pageIndex=1,this.checkedCashArray=[...this.checkedCashArray],this.tableLoading(!1)})}resetForm(){this.searchParam={},this.getDataList()}toggleCollapse(){this.isCollapse=!this.isCollapse}check(t){this.router.navigate(["default/page-demo/list/search-table/search-table-detail"],{queryParams:{name:t}})}add(){}edit(t){}del(t){this.modalSrv.confirm({nzTitle:"\u786e\u5b9a\u8981\u5220\u9664\u5417\uff1f",nzContent:"\u5220\u9664\u540e\u4e0d\u53ef\u6062\u590d",nzOnOk:()=>{this.tableLoading(!0),setTimeout(()=>{this.message.info(`id\u6570\u7ec4(\u652f\u6301\u5206\u9875\u4fdd\u5b58):${JSON.stringify(t)}`),this.getDataList(),this.checkedCashArray.splice(this.checkedCashArray.findIndex(n=>n.id===t),1),this.tableLoading(!1)},3e3)}})}allDel(){this.checkedCashArray.length>0?this.modalSrv.confirm({nzTitle:"\u786e\u5b9a\u8981\u5220\u9664\u5417\uff1f",nzContent:"\u5220\u9664\u540e\u4e0d\u53ef\u6062\u590d",nzOnOk:()=>{const t=[];this.checkedCashArray.forEach(n=>{t.push(n.id)}),this.tableLoading(!0),setTimeout(()=>{this.message.info(`id\u6570\u7ec4(\u652f\u6301\u5206\u9875\u4fdd\u5b58):${JSON.stringify(t)}`),this.getDataList(),this.checkedCashArray=[],this.tableLoading(!1)},1e3)}}):this.message.error("\u8bf7\u52fe\u9009\u6570\u636e")}changeSort(t){this.message.info(`\u6392\u5e8f\u5b57\u6bb5\uff1a${t.fileName},\u6392\u5e8f\u4e3a:${t.sortDir}`)}changePageSize(t){this.tableConfig.pageSize=t}initTable(){this.tableConfig={headers:[{title:"\u9ed8\u8ba4\u4e0d\u663e\u793a",width:130,field:"noShow",show:!1},{title:"\u6587\u5b57\u5f88\u957f",width:130,field:"longText",showSort:!0},{title:"\u6362\u884c",width:100,field:"newline",notNeedEllipsis:!0,showSort:!0,tdClassList:["text-wrap"]},{title:"\u52a0\u6837\u5f0f",width:100,field:"addStyle",tdClassList:["operate-text"]},{title:"\u81ea\u5b9a\u4e49\u6a21\u677f",field:"name",tdTemplate:this.highLightTpl,width:140},{title:"\u5bf9\u8c61\u70b9\u51fa\u6765\uff08obj.a.b\uff09",field:"obj.a.b"},{title:"\u64cd\u4f5c",tdTemplate:this.operationTpl,width:120,fixed:!0,fixedDir:"right"}],total:0,showCheckbox:!0,loading:!1,pageSize:10,pageIndex:1}}ngOnInit(){this.initTable()}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(s.qu),e.Y36(Z.Sf),e.Y36(x.dD),e.Y36(h.F0),e.Y36(e.sBO))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-search-table"]],viewQuery:function(t,n){if(1&t&&(e.Gf(X,7),e.Gf(k,7)),2&t){let o;e.iGM(o=e.CRH())&&(n.highLightTpl=o.first),e.iGM(o=e.CRH())&&(n.operationTpl=o.first)}},decls:38,vars:35,consts:[[3,"pageHeaderInfo"],[1,"normal-table-wrap"],[1,"m-b-10",3,"nzBodyStyle"],["nz-form",""],["nz-row","",3,"nzGutter"],["nz-col","",3,"nzXXl","nzXl","nzLg","nzMd","nzSm","nzXs"],[3,"nzFor"],["nz-input","","placeholder","\u8bf7\u8f93\u5165","name","ruleName",3,"ngModel","ngModelChange"],["nz-input","","placeholder","\u8bf7\u8f93\u5165","name","desc",3,"ngModel","ngModelChange"],[4,"ngIf"],["nz-col","",1,"m-b-8","text-right","p-0",3,"nzXXl","nzXl","nzLg","nzMd","nzSm","nzXs"],["nz-button","",3,"nzType"],["nz-icon","","nzType","search"],["nz-button","",1,"m-l-15",3,"click"],["nz-icon","","nzType","close-circle","nzTheme","outline"],[1,"collapse","operate-text",3,"click"],["nz-icon","",3,"nzType"],[3,"tableTitle","btnTpl","reload"],[3,"checkedCashArrayFromComment","tableConfig","tableData","selectedChange","sortFn","changePageSize","changePageNum"],["operationTpl",""],["highLightTpl",""],["tableBtns",""],[1,"operate-text",3,"click"],["nzStatus","processing",3,"nzText"],["nz-button","","nzType","primary",1,"m-r-8",3,"click"],["nz-icon","","nzType","plus"],["nz-button","","nzType","default",3,"click"],["nz-icon","","nzType","delete"]],template:function(t,n){if(1&t&&(e._UZ(0,"app-page-header",0),e.TgZ(1,"div",1)(2,"nz-card",2),e._UZ(3,"app-water-mark"),e.TgZ(4,"form",3)(5,"div",4)(6,"div",5)(7,"nz-form-item")(8,"nz-form-label",6),e._uU(9,"\u89c4\u5219\u540d\u79f0"),e.qZA(),e.TgZ(10,"nz-form-control")(11,"input",7),e.NdJ("ngModelChange",function(l){return n.searchParam.ruleName=l}),e.qZA()()()(),e.TgZ(12,"div",5)(13,"nz-form-item")(14,"nz-form-label",6),e._uU(15,"\u63cf\u8ff0"),e.qZA(),e.TgZ(16,"nz-form-control")(17,"input",8),e.NdJ("ngModelChange",function(l){return n.searchParam.desc=l}),e.qZA()()()(),e.YNc(18,U,19,21,"ng-container",9),e.TgZ(19,"div",10)(20,"button",11),e._UZ(21,"i",12),e._uU(22," \u641c\u7d22 "),e.qZA(),e.TgZ(23,"button",13),e.NdJ("click",function(){return n.resetForm()}),e._UZ(24,"i",14),e._uU(25," \u91cd\u7f6e "),e.qZA(),e.TgZ(26,"a",15),e.NdJ("click",function(){return n.toggleCollapse()}),e.YNc(27,w,2,0,"span",9),e.YNc(28,Q,2,0,"span",9),e._UZ(29,"i",16),e.qZA()()()()(),e.TgZ(30,"app-card-table-wrap",17),e.NdJ("reload",function(){return n.reloadTable()}),e.TgZ(31,"app-ant-table",18),e.NdJ("selectedChange",function(l){return n.selectedChecked(l)})("sortFn",function(l){return n.changeSort(l)})("changePageSize",function(l){return n.changePageSize(l)})("changePageNum",function(l){return n.getDataList(l)}),e.qZA(),e.YNc(32,P,6,0,"ng-template",null,19,e.W1O),e.qZA()(),e.YNc(34,I,1,1,"ng-template",null,20,e.W1O),e.YNc(36,B,6,0,"ng-template",null,21,e.W1O)),2&t){const o=e.MAs(37);e.Q6J("pageHeaderInfo",n.pageHeaderInfo),e.xp6(2),e.Q6J("nzBodyStyle",e.DdM(33,H)),e.xp6(3),e.Q6J("nzGutter",e.DdM(34,O)),e.xp6(1),e.Q6J("nzXXl",8)("nzXl",8)("nzLg",8)("nzMd",12)("nzSm",24)("nzXs",24),e.xp6(5),e.Q6J("ngModel",n.searchParam.ruleName),e.xp6(1),e.Q6J("nzXXl",8)("nzXl",8)("nzLg",8)("nzMd",12)("nzSm",24)("nzXs",24),e.xp6(5),e.Q6J("ngModel",n.searchParam.desc),e.xp6(1),e.Q6J("ngIf",!n.isCollapse),e.xp6(1),e.Q6J("nzXXl",8)("nzXl",8)("nzLg",8)("nzMd",12)("nzSm",24)("nzXs",24),e.xp6(1),e.Q6J("nzType","primary"),e.xp6(7),e.Q6J("ngIf",n.isCollapse),e.xp6(1),e.Q6J("ngIf",!n.isCollapse),e.xp6(1),e.Q6J("nzType",n.isCollapse?"down":"up"),e.xp6(1),e.Q6J("tableTitle","\u67e5\u8be2\u8868\u683c")("btnTpl",o),e.xp6(1),e.Q6J("checkedCashArrayFromComment",n.checkedCashArray)("tableConfig",n.tableConfig)("tableData",n.dataList)}},dependencies:[m.O5,s._Y,s.Fj,s.JJ,s.JL,s.On,s.F,u.q,y.q,M.U,J.p,A.Ls,p.t3,p.SK,c.Lr,c.Nx,c.iK,c.Fd,F.ix,v.w,N.dQ,T.Zp,L.x7,D.bd],changeDetection:0}),a})(),data:{title:"M\u1eabu y\xeau c\u1ea7u",key:"search-table",relatedLink:["search-table","search-table-detail"]}},{path:"search-table-detail",component:S,data:{title:"M\u1eabu y\xeau c\u1ea7u",authCode:b.h.SearchTableDetail,key:"search-table-detail",relatedLink:["search-table","search-table-detail"]}}];let G=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[h.Bz.forChild(Y),h.Bz]}),a})(),j=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[m.ez,_.m,G]}),a})()}}]);